<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>消息队列的种类及对比 | 技术博客，知识分享，学习笔记，问题解决方案</title>
    <meta name="description" content="啊郭的博客">
    <link rel="stylesheet" href="/guo-notes/assets/style.5e0eda6f.css">
    <link rel="modulepreload" href="/guo-notes/assets/app.991e8579.js">
    <link rel="modulepreload" href="/guo-notes/assets/classify_RabbitMQ_MQ的种类和对比.md.d772f65c.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-c6a644e1><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-c6a644e1 data-v-a71a30f1><div class="VPNavBar has-sidebar" data-v-a71a30f1 data-v-6f1d18b5><div class="container" data-v-6f1d18b5><div class="VPNavBarTitle has-sidebar" data-v-6f1d18b5 data-v-d5925166><a class="title" href="/guo-notes/" data-v-d5925166><!--[--><!--]--><!----><!--[-->啊郭的博客<!--]--><!--[--><!--]--></a></div><div class="content" data-v-6f1d18b5><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6f1d18b5 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 后端技术 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/guo-notes/classify/redis/redis%E4%BB%8B%E7%BB%8D.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Redis<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/guo-notes/classify/mysql/mysql%E4%BB%8B%E7%BB%8D.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Mysql<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/guo-notes/classify/RabbitMq/MQ%E7%9A%84%E6%A6%82%E5%BF%B5.html" data-v-e8e0fb1d data-v-3c355974><!--[-->RabbitMq<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 计算机基础 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/guo-notes/classify/计算机基础/计算机网络/" data-v-e8e0fb1d data-v-3c355974><!--[-->计算机网络<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guo-notes/classify/algorithm/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->算法<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6f1d18b5 data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-1899cd41 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1899cd41><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1899cd41><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6f1d18b5 data-v-738bef5a data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/gyh-up?tab=repositories" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://blog.csdn.net/weixin_42258523?spm=1000.2115.3001.5343" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><embed src="https://g.csdnimg.cn/static/logo/favicon32.ico" style="border-radius: 100%;width: 20px;height: 20px;" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6f1d18b5 data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e4361c82><div class="item appearance" data-v-e4361c82><p class="label" data-v-e4361c82>Appearance</p><div class="appearance-action" data-v-e4361c82><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e4361c82 data-v-1899cd41 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1899cd41><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1899cd41><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-e4361c82><div class="item social-links" data-v-e4361c82><div class="VPSocialLinks social-links-list" data-v-e4361c82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/gyh-up?tab=repositories" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://blog.csdn.net/weixin_42258523?spm=1000.2115.3001.5343" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><embed src="https://g.csdnimg.cn/static/logo/favicon32.ico" style="border-radius: 100%;width: 20px;height: 20px;" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6f1d18b5 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-c6a644e1 data-v-aac27d5e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-aac27d5e><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-aac27d5e><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-aac27d5e>Menu</span></button><a class="top-link" href="#" data-v-aac27d5e> Return to top </a></div><aside class="VPSidebar" data-v-c6a644e1 data-v-f332cb62><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-f332cb62><span class="visually-hidden" id="sidebar-aria-label" data-v-f332cb62> Sidebar Navigation </span><!--[--><div class="group" data-v-f332cb62><section class="VPSidebarGroup collapsible" data-v-f332cb62 data-v-35f99ef5><div class="title" role="button" data-v-35f99ef5><h2 class="title-text" data-v-35f99ef5>RabbitMq</h2><div class="action" data-v-35f99ef5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-35f99ef5><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-35f99ef5><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-35f99ef5><!--[--><!--[--><a class="VPLink link link" href="/guo-notes/classify/RabbitMQ/MQ%E7%9A%84%E6%A6%82%E5%BF%B5.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>一、MQ的概念</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link active" href="/guo-notes/classify/RabbitMQ/MQ%E7%9A%84%E7%A7%8D%E7%B1%BB%E5%92%8C%E5%AF%B9%E6%AF%94.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>二、MQ的种类和对比</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/guo-notes/classify/RabbitMQ/RabbitMQ%E7%AE%80%E4%BB%8B.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>三、RabbitMQ简介</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/guo-notes/classify/RabbitMQ/RabbitMQ%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%90%AF%E5%8A%A8.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>四、RabbitMQ的安装和启动</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/guo-notes/classify/RabbitMQ/RabbitMQ%E5%91%BD%E4%BB%A4%E8%A1%8C.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>五、RabbitMQ命令行</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/guo-notes/classify/RabbitMQ/RabbitMQ%E7%AE%A1%E6%8E%A7%E5%8F%B0%E4%BB%8B%E7%BB%8D.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>六、RabbitMQ管控台介绍</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/guo-notes/classify/RabbitMQ/RabbitMQ%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>七、RabbitMQ工作模式</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/guo-notes/classify/RabbitMQ/RabbitMQ%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>八、RabbitMQ高级特性</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/guo-notes/classify/RabbitMQ/RabbitMQ%E5%BA%94%E7%94%A8%E6%96%B9%E6%A1%88.html" style="padding-left:0px;" data-v-2cfe069a data-v-3c355974><!--[--><span class="link-text" data-v-2cfe069a>九、RabbitMQ应用方案</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-c6a644e1 data-v-c95df128><div class="VPDoc has-sidebar has-aside" data-v-c95df128 data-v-37ebe389><div class="container" data-v-37ebe389><div class="aside" data-v-37ebe389><div class="aside-curtain" data-v-37ebe389></div><div class="aside-container" data-v-37ebe389><div class="aside-content" data-v-37ebe389><div class="VPDocAside" data-v-37ebe389 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-37ebe389><div class="content-container" data-v-37ebe389><!--[--><!--]--><main class="main" data-v-37ebe389><div style="position:relative;" class="vp-doc _guo-notes_classify_RabbitMQ_MQ%E7%9A%84%E7%A7%8D%E7%B1%BB%E5%92%8C%E5%AF%B9%E6%AF%94" data-v-37ebe389><div><h1 id="消息队列的种类及对比" tabindex="-1">消息队列的种类及对比 <a class="header-anchor" href="#消息队列的种类及对比" aria-hidden="true">#</a></h1><p>目前使用较多的消息队列有 <code>ActiveMQ</code>，<code>RabbitMQ</code>，<code>Redis的list和订阅</code>，<code>ZeroMQ</code>，<code>Kafka</code>，阿里的<code>RocketMQ</code>。其中应用较广泛部署较容易的一种: <code>RabbitMQ</code>。</p><p>消息队列已经逐渐成为企业IT系统内部通信的核心手段。它具有低耦合、可靠投递、广播、流量控制、最终一致性等一系列功能，成为异步<code>RPC</code>的主要手段之一。当今市面上有很多主流的消息中间件，如老牌的<code>ActiveMQ</code>、<code>RabbitMQ</code>，炙手可热的<code>Kafka</code>，阿里巴巴自主开发<code>RocketMQ</code>等。</p><h2 id="一、主流mq的区别与联系" tabindex="-1">一、主流MQ的区别与联系 <a class="header-anchor" href="#一、主流mq的区别与联系" aria-hidden="true">#</a></h2><table><thead><tr><th>特性大类</th><th>特性</th><th><code>ActiveMQ</code></th><th><code>RabbitMQ</code></th><th><code>RocketMQ</code></th><th><code>Kafka</code></th></tr></thead><tbody><tr><td>定位</td><td>设计定位</td><td>可靠消息传输</td><td>非日志的可靠消息传输</td><td>可靠消息传输</td><td>配合大数据类的系统实时数据处理及日志处理</td></tr><tr><td>基础对比</td><td>持久化方式</td><td>内存/文件/数据库</td><td>内存/文件</td><td>磁盘文件</td><td>磁盘文件</td></tr><tr><td></td><td>开发语言</td><td>java</td><td>erlang</td><td>java</td><td>scala</td></tr><tr><td></td><td>支持协议</td><td>OpenWire、STOMP、REST、XMPP、AMQP</td><td>AMQP</td><td>自己定义的一套（社区提供<code>JMS</code>-不成熟）</td><td>一套基础TCP的二进制协议</td></tr><tr><td>性能</td><td>单机吞吐量</td><td>万级</td><td>万级</td><td>10万级</td><td>10万级+</td></tr><tr><td></td><td>消息写入性能</td><td>较好</td><td>较好</td><td>很好</td><td>非常好</td></tr><tr><td></td><td>集群管理</td><td>独立</td><td>独立</td><td>nameserver</td><td>zookeeper</td></tr><tr><td></td><td>选主方式</td><td>基于zookeeper+leavelDB的 master-slave 方式</td><td>Master 提供服务，slave 提供备份</td><td>支持 master 模式，多 master多 slave 模式，异步复制模式</td><td>支持多副本机制，leader 宕机，flower 自动顶上重新选举 leader</td></tr><tr><td></td><td>topic数量对吞吐量的影响</td><td></td><td></td><td>topic 可以达到几百，几千个的级别，吞吐量会有较小幅度的下降这是 <code>RocketMQ </code>的一大优势，在同等机器下，可以支撑大量的 topic</td><td>topic 从几十个到几百个的时候，吞吐量会大幅度下降所以在同等机器下，kafka 尽量保证 topic 数量不要过多。如果要支撑大规模 topic，需要增加更多的机器资源</td></tr><tr><td></td><td>时效性</td><td>ms 级</td><td>微秒级，这是 rabbitmq 的一大特点，延迟是最低的</td><td>ms 级</td><td>延迟在 ms 级以内</td></tr><tr><td></td><td>可用性</td><td>高，基于主从架构实现高可用性</td><td>高，基于主从架构实现高可用性</td><td>非常高，分布式架构</td><td>非常高，kafka 是分布式的，一个数据多个副本，少数机器宕机，不会丢失数据，不会导致不可用</td></tr><tr><td></td><td>消息可靠性</td><td>有较低的概率丢失数据</td><td></td><td>经过参数优化配置，可以做到0丢失</td><td>经过参数优化配置，消息可以做到0丢失</td></tr><tr><td>功能</td><td></td><td>MQ 领域的功能极其完备</td><td>基于 erlang 开发，所以并发能力很强，性能极其好，延时很低</td><td>MQ 功能较为完善，还是分布式的，扩展性好</td><td>功能较为简单，主要支持简单的 MQ功能，在大数据领域的实时计算以及日志采集被大规模使用，是事实上的标准</td></tr><tr><td></td><td>批量发送</td><td>支持</td><td>不支持</td><td>支持</td><td>支持</td></tr><tr><td></td><td>消费方式</td><td>customer pull</td><td>broker push</td><td>customer pull</td><td>customer pull</td></tr><tr><td></td><td>事务消息</td><td>支持</td><td>不支持</td><td>支持</td><td>支持</td></tr><tr><td></td><td>消息过滤</td><td>不支持</td><td>不支持</td><td>支持</td><td>不支持</td></tr><tr><td></td><td>消息查询</td><td>不支持</td><td>不支持</td><td>支持</td><td>不支持</td></tr><tr><td></td><td>消息失败重试</td><td>支持</td><td>支持</td><td>支持</td><td>不支持</td></tr><tr><td></td><td>消息重新消费</td><td>支持</td><td>不支持</td><td>支持</td><td>支持</td></tr><tr><td></td><td>消息清理</td><td>指定文件保存时间过期删除</td><td>可用内存少于40%触发GC</td><td>指定文件保存时间过期删除</td><td>指定文件保存时间过期删除</td></tr><tr><td>优劣势总结</td><td></td><td>非常成熟，功能强大，在业内大量的公司以及项目中都有应用；偶尔会有较低概率丢失消息；而且现在社区以及国内应用都越来越少，官方社区现在对<code>ActiveMQ 5.x</code>维护越来越少，几个月才发布一个版本，而且确实主要是基于解耦和异步来用的，较少在大规模吞吐的场景中使用</td><td><code>erlang</code>语言开发，性能极其好，延时很低；吞吐量到万级，<code>MQ</code>功能比较完备；而且开源提供的管理界面非常棒，用起来很好；用社区相对比较活跃，几乎每个月都发布几个版本；在国内一些互联网公司近几年用<code>rabbitmq</code>也比较多一些但是问题也是显而易见的，<code>RabbitMQ</code>确实吞吐量会低一些，这是因为他做的实现机制比较重。而且<code>erlang</code>开发，国内有几个公司有实力做<code>erlang</code>源码级别的研究和定制？如果说你没这个实力的话，确实偶尔会有一些问题，你很难去看懂源码，你公司对这个东西的掌控很弱，基本职能依赖于开源社区的快速维护和修复bug。而且<code>rabbitmq</code>集群动态扩展会很麻烦，不过这个我觉得还好。其实主要是<code>erlang</code>语言本身带来的问题。很难读源码，很难定制和掌控。</td><td>接口简单易用，而且毕竟在阿里大规模应用过，有阿里品牌保障；日处理消息上百亿之多，可以做到大规模吞吐，性能也非常好，分布式扩展也很方便，社区维护还可以，可靠性和可用性都是 ok 的，还可以支撑大规模的 topic 数量，支持复杂 <code>MQ </code>业务场景；而且一个很大的优势在于，阿里出品都是 <code>java</code> 系的，我们可以自己阅读源码，定制自己公司的<code>MQ</code>，可以掌控；社区活跃度相对较为一般，不过也还可以，文档相对来说简单一些，然后接口这块不是按照标准<code>JMS</code>规范走的有些系统要迁移需要修改大量代码；还有就是阿里出台的技术，你得做好这个技术万一被抛弃，社区黄掉的风险，那如果你们公司有技术实力我觉得用<code>RocketMQ</code>挺好的</td><td>kafka 的特点其实很明显，就是仅仅提供较少的核心功能，但是提供超高的吞吐量，ms 级的延迟，极高的可用性以及可靠性，而且分布式可以任意扩展；同时kafka 最好是支撑较少的topic数量即可，保证其超高吞吐量 ；而且 kafka唯一的一点劣势是有可能消息重复消费，那么对数据准确性会造成极其轻微的影响，在大数据领域中以及日志采集中，这点轻微影响可以忽略；这个特性天然适合大数据实时计算以及日志收集</td></tr></tbody></table><h2 id="二、activemq" tabindex="-1">二、ActiveMQ <a class="header-anchor" href="#二、activemq" aria-hidden="true">#</a></h2><h2 id="_1、特点" tabindex="-1">1、特点 <a class="header-anchor" href="#_1、特点" aria-hidden="true">#</a></h2><ul><li>ActiveMQ 是 Apache 出品，最流行的，能力强劲的开源消息中间件，并且它是一个完全支持 JMS 规范的消息中间件</li><li>其丰富的 API、多种集群构建模式使得他成为业界老牌消息中间件，在中小型企业中应用广泛</li></ul><p><strong>ActiveMQ 现在用的比较少，因为 ActiveMQ 相比其他的 MQ 的性能来说比较一般。现如今高并发、大数据的应用场景随处可见。如果这时候在MQ的选择上，那么 ActiveMQ 就显得力不从心了。</strong></p><p>衡量一个MQ的指标，主要有三个方面：服务性能、数据存储、集群架构</p><ul><li>服务性能：ActiveMQ 的性能不是特别好，面对超大规模并发时候，总是会出现各种各样的小问题，比如阻塞，消息堆积过多，产生一些延迟等等一些问题。</li><li>数据存储：ActiveMQ 默认采用 KahaDB 内存存储方式。也可以采用一些高性能的存储方式，比如：google 的 LevelDb 基于内存的。如果是为了保证消息的可靠，也可以采用 mysql 或者 oracle 数据库。</li><li>集群架构：ActiveMQ 流行那么多年，与其他组件集成的 Api 也是十分完善的。如果不是特别大的并发场景下，ActiveMQ 也是一个不错的选择。因为 ActiveMQ 的集群架构模式也是十分好。</li></ul><h2 id="_2、架构模式" tabindex="-1">2、架构模式 <a class="header-anchor" href="#_2、架构模式" aria-hidden="true">#</a></h2><p><img src="/guo-notes/rabbitmq/rabbitmq-54.png" alt="架构模式"></p><p><strong>Masrer-Slave模式</strong> 主备模式，利用 Zookeeper 进行两个或多个节点的协调。其中的主节点是对外提供服务的，而另外的从节点启动着，但是不对外提供服务。当主节点挂掉，利用 Zookeeper 进行一个高可用的切换，将 Salve 节点切换成主节点，继续对外提供服务。</p><p><strong>NetWork模式</strong></p><p>本质是两组主备模式的集成，中间用 NewWork 网关，做一个连接配置，就可以实现分布式集群。</p><h2 id="_3、小结" tabindex="-1">3、小结 <a class="header-anchor" href="#_3、小结" aria-hidden="true">#</a></h2><p><strong>优点：</strong></p><ul><li>跨平台（JAVA 编写与平台无关，ActiveMQ 几乎可以运行在任何的 JVM 上）</li><li>可以用 JDBC：可以将数据持久化到数据库。虽然使用 JDBC 会降低 ActiveMQ 的性能，但是数据库一直都是开发人员最熟悉的存储介质</li><li>支持 JMS 规范：支持 JMS 规范提供的统一接口</li><li>支持自动重连和错误重试机制</li><li>有安全机制：支持基于 shiro，jaas 等多种安全配置机制，可以对 Queue/Topic 进行认证和授权</li><li>监控完善：拥有完善的监控，包括 WebConsole，JMX，Shell 命令行，Jolokia 的 RESTful API</li><li>界面友善：提供的 WebConsole 可以满足大部分情况，还有很多第三方的组件可以使用，比如 hawtio</li></ul><p><strong>缺点：</strong></p><ul><li>社区活跃度不及 RabbitMQ 高</li><li>根据其他用户反馈，会出莫名其妙的问题，会丢失消息</li><li>目前重心放到 activemq6.0 产品 Apollo，对 5.x 的维护较少</li><li>不适合用于上千个队列的应用场景</li></ul><h2 id="三、kafka" tabindex="-1">三、Kafka <a class="header-anchor" href="#三、kafka" aria-hidden="true">#</a></h2><p><strong>Apache Kafka 是一个分布式消息发布订阅系统</strong>。它最初由 LinkedIn 公司基于独特的设计实现为一个分布式的日志提交系统（distributed commit log），之后成为 Apache 项目的一部分。Kafka 性能高效、可扩展良好并且可持久化。<strong>它的分区特性，可复制和可容错都是其不错的特性。</strong></p><h2 id="_1、特点-1" tabindex="-1">1、特点 <a class="header-anchor" href="#_1、特点-1" aria-hidden="true">#</a></h2><p>kafka 是 LinkedIn 开源的分布式发布-定于消息系统，目前归属于 Apache 顶级项目。</p><p>Kafka 主要特点是给予 Pull 的模式来处理消费消息，追求高吞吐量，一开始的目的就是用于日志收集和传输。0.8版本开始支持复制，不支持事务，**对消息的重复、丢失、错误没有严格要求，适合产生大量数据的互联网服务的数据收集业务。**这里可以看出 kafka <strong>只关注吞吐量。</strong></p><p>因此，在使用 kafka 的时候，注意业务是否允许消息重复、丢失、错误等。如果允许的话，kafka 是最合适的。因为它的性能是最高的。即使在廉价的服务器上，也能支持单机每秒 100k 条以上的数据量。所以说它的性能是非常好的。kafka 仅仅使用内存进行存储，只要有足够的内存，就能够足够大的吞吐量。因为 kafka 并没有在磁盘上进行读写。</p><ul><li>快速持久化：可以在 O(1) 的系统开销下进行消息持久化；</li><li>高吞吐：在一台普通的服务器上既可以达到10W/s的吞吐速率；</li><li>完全的分布式系统：Broker、Producer 和 Consumer 都原生自动支持分布式，自动实现负载均衡；</li><li>支持同步和异步复制两种高可用机制；</li><li>支持数据批量发送和拉取；</li><li>零拷贝技术(zero-copy)：减少IO操作步骤，提高系统吞吐量；</li><li>数据迁移、扩容对用户透明；</li><li>无需停机即可扩展机器；</li><li>其他特性：丰富的消息拉取模型、高效订阅者水平扩展、实时的消息订阅、亿级的消息堆积能力、定期删除机制</li></ul><h2 id="_2、架构模式-1" tabindex="-1">2、架构模式 <a class="header-anchor" href="#_2、架构模式-1" aria-hidden="true">#</a></h2><p><strong>kafka 架构模式</strong></p><p><img src="/guo-notes/rabbitmq/rabbitmq-55.png" alt="kafka架构模式"></p><p>主要依赖Zookeeper进行协调管理，每一个kafka可以进行副本复制，也就是数据同步。假如说：有一条数据落在第一个节点上，那么就会进行repilicate 复制，这样在运行中每个节点就有一份数据，一共就有三分数据。如果说其中一台宕机，也能从另外两个节点中获取数据。</p><p>部署方案建议：跨机房部署。即使有一台机子宕机，在数据上也是没有问题的。如果在整个地点宕机了。那么我们的数据也就丢失了。这也是大公司需要考虑的<strong>异地灾备</strong>。</p><h2 id="_3、小结-1" tabindex="-1">3、小结 <a class="header-anchor" href="#_3、小结-1" aria-hidden="true">#</a></h2><p><strong>优点：</strong></p><ul><li>客户端语言丰富：支持 Java、.Net、PHP、Ruby、Python、Go 等多种语言；</li><li>高性能：单机写入 TPS 约在 100万条/秒，消息大小 10 个字节；</li><li>提供完全分布式架构，并有 replica 机制，拥有较高的可用性和可靠性，理论上支持消息无限堆积；</li><li>支持批量操作；</li><li>消费者采用 Pull 方式获取消息。消息有序，通过控制能够保证所有消息被消费且仅被消费一次；</li><li>有优秀的第三方 KafkaWeb 管理界面 Kafka-Manager；</li><li>在日志领域比较成熟，被多家公司和多个开源项目使用。</li></ul><p><strong>缺点：</strong></p><ul><li>Kafka 单机超过64个队列/分区时，Load 时会发生明显的飙高现象。队列越多，负载越高，发送消息响应时间变长；</li><li>使用短轮询方式，实时性取决于轮询间隔时间；</li><li>消费失败不支持重试；</li><li>支持消息顺序，但是一台代理宕机后，就会产生消息乱序；</li><li>社区更新较慢。</li></ul><h2 id="四、rocketmq" tabindex="-1">四、RocketMQ <a class="header-anchor" href="#四、rocketmq" aria-hidden="true">#</a></h2><p>RocketMQ 是阿里开源的消息中间件，目前也已经孵化为 Apache 顶级项目。用 Java 语言实现，在设计时参考了Kafka，并做出了自己的一些改进，消息可靠性上比 Kafka 更好。RocketMQ 在阿里内部被广泛应用在订单，交易，充值，流计算，消息推送，日志流式处理，binglog 分发等场景。</p><h2 id="_1、特点-2" tabindex="-1">1、特点 <a class="header-anchor" href="#_1、特点-2" aria-hidden="true">#</a></h2><p>核心的特点如下：</p><ul><li>保证消息的顺序性，消息按顺序消费。</li><li>提供了丰富的拉取和处理模式。</li><li>高效的订阅者，也可以进行水平扩展。</li><li>承载上亿级别的消息堆积能力。</li></ul><h2 id="_2、架构模式-2" tabindex="-1">2、架构模式 <a class="header-anchor" href="#_2、架构模式-2" aria-hidden="true">#</a></h2><p>RocketMQ 集群架构模式</p><ol><li>Master-Slave（主从）模式</li><li>双Master模式。</li><li>双主双从模式。</li><li>多主多从模式。</li><li>一主多从模式。 可选方案许多种可供选择。</li></ol><p><strong>集群拓扑</strong></p><p><img src="/guo-notes/rabbitmq/rabbitmq-56.png" alt="集群拓扑"></p><p>阿里觉得 Zookeeper 性能太低，自己搭建了 NameServer，这个 NameServer 代码也十分精简，一共也就几百行代码。有兴趣可以去读源码。</p><h2 id="_3、小结-2" tabindex="-1">3、小结 <a class="header-anchor" href="#_3、小结-2" aria-hidden="true">#</a></h2><p><strong>优点：</strong></p><ul><li>单机支持1万以上持久化队列；</li><li>RocketMQ 的所有消息都是持久化的，先写入系统 PAGECACHE，然后刷盘，可以保证内存与磁盘都有一份数据，而访问时，直接从内存读取。</li><li>模型简单，接口易用（JMS 的接口很多场合并不太实用）；</li><li>性能非常好，可以允许大量堆积消息在 Broker 中；</li><li>支持多种消费模式，包括集群消费、广播消费等；</li><li>各个环节分布式扩展设计，支持主从和高可用；</li><li>开发度较活跃，版本更新很快。</li></ul><p><strong>缺点：</strong></p><ul><li>支持的 客户端语言不多，目前是 Java 及 C++，其中 C++ 还不成熟</li><li>维护 RocketMQ 需要专业的团队</li><li>商业版收费，有许多功能是不对外提供的。</li><li>没有在 MQ 核心里实现 JMS 等接口</li></ul><h2 id="五、为什么选择-rabbitmq？" tabindex="-1">五、为什么选择 RabbitMQ？ <a class="header-anchor" href="#五、为什么选择-rabbitmq？" aria-hidden="true">#</a></h2><ul><li>ActiveMQ，性能不是很好，因此在高并发的场景下，直接被pass掉了。它的 Api 很完善，在中小型互联网公司可以去使用。</li><li>kafka，主要强调高性能，如果对业务需要可靠性消息的投递的时候。那么就不能够选择 kafka 了。但是如果做一些日志收集呢，kafka 还是很好的。因为 kafka 的性能是十分好的。</li><li>RocketMQ，它的特点非常好。它高性能、满足可靠性、分布式事物、支持水平扩展、上亿级别的消息堆积、主从之间的切换等等。MQ 的所有优点它基本都满足。但是它最大的缺点：商业版收费。因此它有许多功能是不对外提供的。</li></ul><p>那么除了这三种 MQ 还有没有其他 MQ 能够选择呢？有的 —— RabbitMQ。</p><h2 id="六、rabbitmq" tabindex="-1">六、RabbitMQ <a class="header-anchor" href="#六、rabbitmq" aria-hidden="true">#</a></h2><p>RabbitMQ 于 2007 年发布，是一个在 AMQP（高级消息队列协议）基础上完成的，可复用的企业消息系统，是当前最主流的消息中间件之一。</p><h2 id="_1、特点-3" tabindex="-1">1、特点 <a class="header-anchor" href="#_1、特点-3" aria-hidden="true">#</a></h2><ul><li>RabbitMQ 是使用 Erlang 语言开发的开源消息队列系统，基于 AMQP 协议来实现。</li><li>AMQP 的主要特征是面向消息、队列、路由（包括点对点和发布/订阅）、可靠性、安全。</li><li>AMQP 协议更多用在企业系统内，对数据一致性、稳定性和可靠性要求很高的场景，对性能和吞吐量的要求还在其次。</li><li>RabbitMQ 的可靠性是非常好的，数据能够保证百分之百的不丢失。可以使用镜像队列，它的稳定性非常好。<strong>所以说在互联网的金融行业。对数据的稳定性和可靠性要求都非常高的情况下，我们都会选择 RabbitMQ。</strong> 当然没有 kafka 性能好，但是要比 AvtiveMQ 性能要好很多。也可以自己做一些性能的优化。</li><li>RabbitMQ 可以构建异地双活架构，包括每一个节点存储方式可以采用磁盘或者内存的方式。</li></ul><h2 id="_2、集群架构" tabindex="-1">2、集群架构 <a class="header-anchor" href="#_2、集群架构" aria-hidden="true">#</a></h2><p><img src="/guo-notes/rabbitmq/rabbitmq-57.png" alt="RabbitMQ的集群架构"></p><p>图中说的就是，我们可以采用三个节点作为 RabbitMQ 的一组集群，当然可以有许多组。节点与节点之间采用mirror queue。基于这种方式，能够保证数据百分之百的不丢失。</p><p>前端可以去做负载均衡，比如负载均衡组件：HA-proxy ，进行TCP级别的负载。</p><p>如果想做一个高可用的话，就需要借助 keepAlived 做一个高可用的配置。</p><p>比如前端加一个虚拟的VIP，通过 VIP 路由到指定的负载均衡组件，再由它路由到 RabbtMQ 的某一个节点。</p><p>这就是整个 RabbitMQ 集群架构。<strong>能够实现非常完善，高可用并且性能也十分好，稳定性超强。并且有各种集群恢复手段。</strong></p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-37ebe389 data-v-a54a85bd><!----><div class="prev-next" data-v-a54a85bd><div class="pager" data-v-a54a85bd><a class="pager-link prev" href="/guo-notes/classify/RabbitMQ/MQ%E7%9A%84%E6%A6%82%E5%BF%B5.html" data-v-a54a85bd><span class="desc" data-v-a54a85bd>Previous page</span><span class="title" data-v-a54a85bd>一、MQ的概念</span></a></div><div class="has-prev pager" data-v-a54a85bd><a class="pager-link next" href="/guo-notes/classify/RabbitMQ/RabbitMQ%E7%AE%80%E4%BB%8B.html" data-v-a54a85bd><span class="desc" data-v-a54a85bd>Next page</span><span class="title" data-v-a54a85bd>三、RabbitMQ简介</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"classify_rabbitmq_exchange核心概念.md\":\"35e6b8b9\",\"classify_rabbitmq_mq的概念.md\":\"1542edba\",\"classify_rabbitmq_mq的种类和对比.md\":\"d772f65c\",\"classify_rabbitmq_rabbitmq命令行.md\":\"135cf4fc\",\"classify_rabbitmq_rabbitmq工作模式.md\":\"eaabfd00\",\"classify_rabbitmq_rabbitmq应用方案.md\":\"6f0867d8\",\"classify_rabbitmq_rabbitmq的安装和启动.md\":\"5bac96d8\",\"classify_rabbitmq_rabbitmq简介.md\":\"d94be1e0\",\"classify_rabbitmq_rabbitmq管控台介绍.md\":\"847827ea\",\"classify_rabbitmq_rabbitmq高级特性.md\":\"e4bd37df\",\"classify_rabbitmq_rabbitmq高级特性1.md\":\"5a5962e1\",\"classify_redis_redis主从.md\":\"d9f85e63\",\"classify_redis_redis事务.md\":\"0316cb01\",\"classify_redis_redis五大数据类型实现原理.md\":\"6de66d24\",\"classify_redis_redis介绍.md\":\"58a2c805\",\"classify_redis_redis内存回收.md\":\"8e7ce81e\",\"classify_redis_redis内存淘汰策略.md\":\"d0c8d877\",\"classify_redis_redis内存碎片率.md\":\"db86c5ea\",\"classify_redis_redis分布式锁.md\":\"a4113245\",\"classify_redis_redis哨兵.md\":\"9f74d4b2\",\"classify_redis_redis底层数据结构.md\":\"9b579b06\",\"classify_redis_redis慢查询和管道.md\":\"11fb9c4c\",\"classify_redis_redis持久化.md\":\"76430a16\",\"classify_redis_redis数据类型简介.md\":\"31618846\",\"classify_redis_redis缓存击穿、穿透、雪崩.md\":\"2012ec9c\",\"classify_redis_redis配置文件解析.md\":\"1d8f4ba7\",\"classify_redis_redis集群.md\":\"630d7e68\",\"classify_algorithm_concept_复杂度-时间复杂度和空间复杂度.md\":\"78dbdcd0\",\"classify_algorithm_concept_数据结构-堆.md\":\"14a78765\",\"classify_algorithm_concept_数据结构-栈与队列.md\":\"6bf935a9\",\"classify_algorithm_concept_数据结构-树.md\":\"9995f977\",\"classify_algorithm_concept_算法-排序算法.md\":\"8cfe5984\",\"classify_algorithm_concept_算法-查找算法.md\":\"df304535\",\"classify_algorithm_concept_算法-深度优先搜索和广度优先搜索.md\":\"0979f32e\",\"classify_algorithm_index.md\":\"947d60e4\",\"classify_algorithm_title_leetcode-1.md\":\"13e06c08\",\"classify_algorithm_title_leetcode-101.md\":\"90132690\",\"classify_algorithm_title_leetcode-104.md\":\"70fcddcb\",\"classify_algorithm_title_leetcode-110.md\":\"3d04a413\",\"classify_algorithm_title_leetcode-141.md\":\"2ddce3d8\",\"classify_algorithm_title_leetcode-142.md\":\"7c17a9df\",\"classify_algorithm_title_leetcode-144.md\":\"c3ee202b\",\"classify_algorithm_title_leetcode-145.md\":\"cb106181\",\"classify_algorithm_title_leetcode-160.md\":\"f8c550b6\",\"classify_algorithm_title_leetcode-206.md\":\"d687f2d6\",\"classify_algorithm_title_leetcode-21.md\":\"c87d4609\",\"classify_algorithm_title_leetcode-226.md\":\"6be37586\",\"classify_algorithm_title_leetcode-232.md\":\"216d2fc7\",\"classify_algorithm_title_leetcode-234.md\":\"09c22929\",\"classify_algorithm_title_leetcode-283.md\":\"bc282227\",\"classify_algorithm_title_leetcode-394.md\":\"265087c1\",\"classify_algorithm_title_leetcode-448.md\":\"32b5c564\",\"classify_algorithm_title_leetcode-70.md\":\"ccaeadc2\",\"classify_algorithm_title_leetcode-83.md\":\"77ca5bd3\",\"classify_algorithm_title_leetcode-876.md\":\"eb4bdce9\",\"classify_algorithm_title_leetcode-88.md\":\"6b4f0c7b\",\"classify_algorithm_title_leetcode-912.md\":\"77c8fd1d\",\"classify_algorithm_title_leetcode-94.md\":\"8a28db6a\",\"classify_algorithm_title_leetcode-模板.md\":\"c0d869f6\",\"classify_algorithm_title_剑指offer-22.md\":\"0fbdcfc6\",\"classify_algorithm_其他-设计.md\":\"c9fa3d60\",\"classify_algorithm_基础-排序.md\":\"eb2ada83\",\"classify_algorithm_基础数据结构-哈希表.md\":\"a051342b\",\"classify_algorithm_基础数据结构-字符串.md\":\"e8cae410\",\"classify_algorithm_基础数据结构-数组.md\":\"2cabc4ff\",\"classify_algorithm_基础数据结构-栈.md\":\"55ce8154\",\"classify_algorithm_基础数据结构-树.md\":\"4fba2992\",\"classify_algorithm_基础数据结构-链表.md\":\"fc6aaf64\",\"classify_algorithm_基础数据结构-队列.md\":\"11d5244b\",\"classify_algorithm_技巧-双指针.md\":\"c76c0b18\",\"classify_algorithm_数学-斐波那契数列.md\":\"e21ef8df\",\"classify_algorithm_数学-相遇问题.md\":\"2b01d99b\",\"classify_algorithm_算法-动态规划.md\":\"9ca9953b\",\"classify_algorithm_算法-广度优先搜索.md\":\"b5c771ea\",\"classify_algorithm_算法-排序.md\":\"5b11e326\",\"classify_algorithm_算法-深度优先搜索.md\":\"b8d9787a\",\"classify_algorithm_算法-迭代.md\":\"dd6a9f54\",\"classify_algorithm_算法-递归.md\":\"85496316\",\"classify_mysql_mvcc多版本并发控制.md\":\"d9af3204\",\"classify_mysql_mysql三大日志.md\":\"f38e70b3\",\"classify_mysql_mysql主从复制.md\":\"a7ab6a40\",\"classify_mysql_mysql事务.md\":\"1955e6c9\",\"classify_mysql_mysql介绍.md\":\"f31f8933\",\"classify_mysql_mysql分区.md\":\"44027cfa\",\"classify_mysql_mysql分库分表.md\":\"cf1e5b5b\",\"classify_mysql_mysql索引.md\":\"b53d7f53\",\"classify_mysql_mysql语法.md\":\"ee2fa2de\",\"classify_mysql_mysql读写分离.md\":\"c3a9dad3\",\"classify_mysql_mysql负载均衡和高可用.md\":\"a9e4b06f\",\"classify_mysql_mysql锁.md\":\"5470bc41\",\"classify_mysql_sql语句优化.md\":\"366e2b2e\",\"classify_mysql_sql语句执行流程.md\":\"5615759d\",\"classify_mysql_存储引擎.md\":\"bbeb6ddd\",\"classify_mysql_性能分析.md\":\"9df237e9\",\"classify_mysql_物理文件.md\":\"3f87a6b0\",\"classify_mysql_管理常用工具.md\":\"c5607a25\",\"classify_sundry_tools_git_github 连接失败.md\":\"5170410d\",\"classify_sundry_tools_vscode_vscode 启动 debug.md\":\"d9fea741\",\"classify_框架学习_laravel_artisan控制台命令.md\":\"5b9aecab\",\"classify_框架学习_laravel_生命周期相关核心概念.md\":\"5138be10\",\"classify_解决方案_redis主从存在的问题和解决方案.md\":\"d5c9d501\",\"classify_解决方案_数据库与缓存一致性解决方案.md\":\"0812f58d\",\"classify_计算机基础_计算机网络_io模型.md\":\"35be020f\",\"classify_计算机基础_计算机网络_index.md\":\"e37f7ab0\",\"index.md\":\"1ba35b2d\",\"preface_install.md\":\"4bf1ae00\",\"preface_preface.md\":\"95e197b6\",\"学习网址.md\":\"6eb5d082\",\"网站常用.md\":\"d829d5e7\"}")</script>
    <script type="module" async src="/guo-notes/assets/app.991e8579.js"></script>
    
  </body>
</html>