<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1、什么是 Nginx | 技术博客，知识分享，学习笔记，问题解决方案</title>
    <meta name="description" content="啊郭的博客">
    <link rel="stylesheet" href="/guo-notes/assets/style.5e0eda6f.css">
    <link rel="modulepreload" href="/guo-notes/assets/app.a231f820.js">
    <link rel="modulepreload" href="/guo-notes/assets/classify_Nginx_nginx.md.19c5b7c1.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-c6a644e1><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav no-sidebar" data-v-c6a644e1 data-v-a71a30f1><div class="VPNavBar" data-v-a71a30f1 data-v-6f1d18b5><div class="container" data-v-6f1d18b5><div class="VPNavBarTitle" data-v-6f1d18b5 data-v-d5925166><a class="title" href="/guo-notes/" data-v-d5925166><!--[--><!--]--><!----><!--[-->啊郭的博客<!--]--><!--[--><!--]--></a></div><div class="content" data-v-6f1d18b5><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6f1d18b5 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 后端技术 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/guo-notes/classify/Redis/redis%E4%BB%8B%E7%BB%8D.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Redis<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/guo-notes/classify/mysql/mysql%E4%BB%8B%E7%BB%8D.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Mysql<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/guo-notes/classify/RabbitMQ/MQ%E7%9A%84%E6%A6%82%E5%BF%B5.html" data-v-e8e0fb1d data-v-3c355974><!--[-->RabbitMq<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/guo-notes/classify/Docker/Docker%E4%BB%8B%E7%BB%8D.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Docker<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/guo-notes/classify/Kubernetes/Kubernetes%E4%BB%8B%E7%BB%8D.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Kubernetes<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/guo-notes/classify/Kafka/kafka%E4%BB%8B%E7%BB%8D.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Kafka<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 计算机基础 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/guo-notes/classify/计算机基础/计算机网络/" data-v-e8e0fb1d data-v-3c355974><!--[-->计算机网络<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guo-notes/classify/algorithm/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->算法<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 杂项 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6f1d18b5 data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-1899cd41 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1899cd41><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1899cd41><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6f1d18b5 data-v-738bef5a data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/gyh-up?tab=repositories" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://blog.csdn.net/weixin_42258523?spm=1000.2115.3001.5343" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><embed src="https://g.csdnimg.cn/static/logo/favicon32.ico" style="border-radius: 100%;width: 20px;height: 20px;" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6f1d18b5 data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e4361c82><div class="item appearance" data-v-e4361c82><p class="label" data-v-e4361c82>Appearance</p><div class="appearance-action" data-v-e4361c82><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e4361c82 data-v-1899cd41 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1899cd41><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1899cd41><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-e4361c82><div class="item social-links" data-v-e4361c82><div class="VPSocialLinks social-links-list" data-v-e4361c82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/gyh-up?tab=repositories" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://blog.csdn.net/weixin_42258523?spm=1000.2115.3001.5343" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><embed src="https://g.csdnimg.cn/static/logo/favicon32.ico" style="border-radius: 100%;width: 20px;height: 20px;" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6f1d18b5 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-c6a644e1 data-v-c95df128><div class="VPDoc has-aside" data-v-c95df128 data-v-37ebe389><div class="container" data-v-37ebe389><div class="aside" data-v-37ebe389><div class="aside-curtain" data-v-37ebe389></div><div class="aside-container" data-v-37ebe389><div class="aside-content" data-v-37ebe389><div class="VPDocAside" data-v-37ebe389 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-37ebe389><div class="content-container" data-v-37ebe389><!--[--><!--]--><main class="main" data-v-37ebe389><div style="position:relative;" class="vp-doc _guo-notes_classify_Nginx_nginx" data-v-37ebe389><div><h1 id="_1、什么是-nginx" tabindex="-1">1、什么是 Nginx <a class="header-anchor" href="#_1、什么是-nginx" aria-hidden="true">#</a></h1><p>Nginx 是一款自由的、开源的、高性能的HTTP服务器和反向代理服务器；同时也是一个 IMAP、POP3、SMTP 代理服务器； Nginx 可以作为一个 HTTP 服务器进行网站的发布处理，另外 Nginx 可以作为反向代理进行负载均衡的实现。</p><h2 id="nginx-三个主要应用场景" tabindex="-1">Nginx 三个主要应用场景 <a class="header-anchor" href="#nginx-三个主要应用场景" aria-hidden="true">#</a></h2><ol><li>静态资源服务（通过本地文件系统提供服务）</li><li>缓存、负载均衡服务器</li><li>API服务（OpenResty）</li></ol><p><img src="/guo-notes/nginx/nginx-1.png" alt="image-20210909111359857"></p><h2 id="nginx-特点" tabindex="-1">Nginx 特点 <a class="header-anchor" href="#nginx-特点" aria-hidden="true">#</a></h2><h3 id="（1）更快" tabindex="-1">（1）更快 <a class="header-anchor" href="#（1）更快" aria-hidden="true">#</a></h3><p>这表现在两个方面：一方面，在正常情况下，单次请求会得到更快的响应；另一方面， 在高峰期（如有数以万计的并发请求）， Nginx 可以比其他 Web 服务器更快地响应请求。</p><h3 id="（2）高扩展性" tabindex="-1">（2）高扩展性 <a class="header-anchor" href="#（2）高扩展性" aria-hidden="true">#</a></h3><p>Nginx 的设计极具扩展性，<strong>它完全是由多个不同功能、不同层次、不同类型且耦合度极低的模块组成</strong>。因此，当对某一个模块修复Bug 或进行升级时，可以专注于模块自身，无须 在意其他。</p><p>而且在 HTTP 模块中，还设计了 HTTP 过滤器模块：一个正常的 HTTP 模块在处理完请求后，会有一串 HTTP 过滤器模块对请求的结果进行再处理。</p><p>这样，当我们开发一个新的 HTTP 模块时，不但可以使用诸如 HTTP 核心模块、events 模块、log 模块等不同层次或者不同类型的模块，还可以原封不动地复用大量已有的 HTTP 过滤器模块。这种低耦合度的优秀设计，造就了 Nginx 庞大的第三方模块，当然，公开的第三方模块也如官方发布的模块一样容易使用。</p><p>**Nginx 的模块都是嵌入到二进制文件中执行的，**无论官方发布的模块还是第三方模块都是如此。这使得第三方模块一样具备极其优秀的性能，充分利用 Nginx的高并发特性。因此，许多高流量的网站都倾向于开发符合自己业务特性的定制模块。</p><h3 id="（3）高可靠性" tabindex="-1">（3）高可靠性 <a class="header-anchor" href="#（3）高可靠性" aria-hidden="true">#</a></h3><p>高可靠性是我们选择 Nginx 的最基本条件，因为 Nginx 的可靠性是大家有目共睹的，很多家高流量网站都在核心服务器上大规模使用 Nginx 。Nginx 的高可靠性来自于其核心框架代码的优秀设计、模块设计的简单性；另外，<strong>官方提供的常用模块都非常稳定，每个worker 进程相对独立，master 进程在 1 个 worker进程出错时可以快速“拉起”新的 worker 子进程提供服务。</strong></p><h3 id="（4）低内存消耗" tabindex="-1">（4）低内存消耗 <a class="header-anchor" href="#（4）低内存消耗" aria-hidden="true">#</a></h3><p>一般情况下，10000 个非活跃的 HTTP Keep-Alive 连接在 Nginx 中仅消耗 2.5MB 的内存，这是 Nginx 支持高并发连接的基础。</p><h3 id="（5）单机支持10万以上的并发连接" tabindex="-1">（5）单机支持10万以上的并发连接 <a class="header-anchor" href="#（5）单机支持10万以上的并发连接" aria-hidden="true">#</a></h3><p>这是一个非常重要的特性！随着互联网的迅猛发展和互联网用户数量的成倍增长，各大公司、网站都需要应付海量并发请求，一个能够在峰值期顶住 10 万以上并发请求的 Server， 无疑会得到大家的青睐。理论上，Nginx 支持的并发连接上限取决于内存，当然，能够及时地处理更多的并发请求，是与业务特点紧密相关的。</p><h3 id="（6）热部署" tabindex="-1">（6）热部署 <a class="header-anchor" href="#（6）热部署" aria-hidden="true">#</a></h3><p>master 管理进程与 worker 工作进程的分离设计，使得 worker 能够提供热部署功能，即可以在 7×24 小时不间断服务的前提下，升级 worker 的可执行文件。当然，它也支持不停止服务就更新配置项、更换日志文件等功能。</p><h3 id="（7）最自由的-bsd-许可协议" tabindex="-1">（7）最自由的 BSD 许可协议 <a class="header-anchor" href="#（7）最自由的-bsd-许可协议" aria-hidden="true">#</a></h3><p>这是 worker 可以快速发展的强大动力。BSD 许可协议不只是允许用户免费使用 worker ，它还允许用户在自己的项目中直接使用或修改 worker 源码，然后发布。这吸引了无数开发者继续为 worker 贡献自己的智慧。</p><h1 id="_2、nginx相关的开源版本" tabindex="-1">2、Nginx相关的开源版本 <a class="header-anchor" href="#_2、nginx相关的开源版本" aria-hidden="true">#</a></h1><p>1、阿里巴巴 Tengine：Tengine是由淘宝网发起的Web服务器项目。它在 Nginx 的基础上，针对大访问量网站的需求，添加了很多高级功能和特性。</p><p>2、openresty：OpenResty 是一个基于 Nginx 与 Lua 的高性能 Web 平台，其内部集成了大量精良的 Lua 库、第三方模块以及大多数的依赖项。用于方便地搭建能够处理超高并发、扩展性极高的动态 Web 应用、Web 服务和动态网关。</p><h1 id="_3、nginx高效的原因及原理解析" tabindex="-1">3、Nginx高效的原因及原理解析 <a class="header-anchor" href="#_3、nginx高效的原因及原理解析" aria-hidden="true">#</a></h1><p>前面已经大概了解了worker ，接下来我们要了解下worker 的基本架构。</p><h2 id="_3-1、服务器的网络服务模型" tabindex="-1">3.1、服务器的网络服务模型 <a class="header-anchor" href="#_3-1、服务器的网络服务模型" aria-hidden="true">#</a></h2><p>web服务器和客户端是一对多的关系，Web 服务器必须有能力同时为多个客户端提供服务。一般来说完成并行处理请求工作有三种方式</p><h3 id="_1、单进程阻塞的网络服务器" tabindex="-1">1、单进程阻塞的网络服务器 <a class="header-anchor" href="#_1、单进程阻塞的网络服务器" aria-hidden="true">#</a></h3><p><img src="/guo-notes/nginx/nginx-2.png" alt="image-20210909112313566"></p><p><img src="/guo-notes/nginx/nginx-3.png" alt="image-20210909112321834"></p><blockquote><p>说明：</p><p>1、创建一个socket，绑定服务器端口（bind），监听端口（listen），在 PHP 中用 stream_socket_server 一个函数就能完成上面 3 个步骤</p><p>2、进入 while 循环，阻塞在 accept 操作上，等待客户端连接进入。此时程序会进入睡眠状态，直到有新的客户端发起 connect到服务器，操作系统会唤醒此进程。accept 函数返回客户端连接的 socket</p><p>3、利用 fread 读取客户端 socket 当中的数据，收到数据后服务器程序进行处理然后使用 fwrite 向客户端发送响应。长连接的服务会持续与客户端交互，而短连接服务一般收到响应就会 close。</p><p>缺点： 一次只能处理一个连接，不支持多个长连接同时处理。</p></blockquote><h3 id="_2、多进程方式" tabindex="-1">2、多进程方式 <a class="header-anchor" href="#_2、多进程方式" aria-hidden="true">#</a></h3><p>多进程方式指，服务器每当收到一个客户端请求时，就有服务器主进程生成一个子进程出来和客户端建立连接进行交互，直到连接断开该子进程就结束了。</p><p><img src="/guo-notes/nginx/nginx-4.png" alt="image-20210909112851342"></p><blockquote><p>说明：</p><p>前面流程一致就不补充了</p><p>1、程序启动后就会创建 N 个进程。每个子进程进入 Accept，等待新的连接进入。当客户端连接到服务器时，其中一个子进程会被唤醒，开始处理客户端请求，并且不再接受新的 TCP 连接。当此连接关闭时，子进程会释放，重新进入 Accept，参与处理新的连接。**这个模型的优势是完全可以复用进程，不需要太多的上下文切换，**比如 php-fpm 基于此模型来处理解析 php。</p><p>多进程方式的优点是设计简单，各个子进程相对独立，处理客户端请求时彼此不受干扰；</p><p>缺点是操作系统生成一个子进程需要进行内存复制等操作，在资源和时间上会产生一定的开销；当有大量请求时，会导致系统性能下降；例如：即时聊天程序，一台服务器可能要维持数十万的连接，那么就要启动数十万的进程来维持。这显然不可能。</p></blockquote><h3 id="_3、多线程方式" tabindex="-1">3、多线程方式 <a class="header-anchor" href="#_3、多线程方式" aria-hidden="true">#</a></h3><p>多线程方式指每当服务器接收到一个请求后，会由服务器主进程派生出一个线程出来和客户端进行交互。由于操作系统产生出一个线程的开销远远小于一个进程的开销。故多线程方式在很大程度上减轻了 Web 服务器对系统资源的要求。</p><p>缺点：稳定性！假设某个进程突然关闭会造成整个进程中的所有线程都崩溃。</p><p>基于上面的模式我们发现单个进程每次只能通过每次（accept）处理单个请求，没办法一次性连接多个请求，需要的时候再处理呢？</p><h3 id="_4、单进程io复用方式" tabindex="-1">4、单进程IO复用方式 <a class="header-anchor" href="#_4、单进程io复用方式" aria-hidden="true">#</a></h3><p><img src="/guo-notes/nginx/nginx-5.png" alt="image-20210909113203391"></p><p><img src="/guo-notes/nginx/nginx-6.png" alt="image-20210909113210531"></p><blockquote><p>1、保存所有的 socket，通过 select 模型，监听 socket 描述符的可读事件</p><p>2、Select 会在内核空间监听一旦发现 socket 可读，会从内核空间传递至用户空间，在用户空间通过逻辑判断是服务端 socket 可读，还是客户端的 socket 可读</p><p>3、如果是服务端的 socket 可读，说明有新的客户端建立，将socket保留到监听数组当中</p><p>4、如果是客户端的 socket 可读，说明当前已经可以去读取客户端发送过来的内容了，通过 fread 读取socket内容，然后 fwrite 响应给客户端。</p></blockquote><p>优点：性能最好！一个进程或线程处理多个请求，不需要额外开销，性能最好，资源占用最低。</p><p>缺点：稳定性！某个进程或线程出错，可能导致大量请求无法处理，甚至导致整个服务宕机,单进程对于大量任务处理乏力</p><h3 id="_5-多进程的-master-worker-io复用方式" tabindex="-1">5.多进程的 master-worker IO复用方式 <a class="header-anchor" href="#_5-多进程的-master-worker-io复用方式" aria-hidden="true">#</a></h3><h4 id="_5-1、nginx-的基本架构" tabindex="-1">5.1、nginx 的基本架构 <a class="header-anchor" href="#_5-1、nginx-的基本架构" aria-hidden="true">#</a></h4><p><img src="/guo-notes/nginx/nginx-7.png" alt="image-20210909113443946"></p><blockquote><ol><li>Nginx 启动后，会产生一个主进程，主进程执行一系列的工作后会产生一个或者多个工作进程</li><li>在客户端请求动态站点的过程中，Nginx 服务器还涉及和后端服务器的通信。Nginx 将接收到的 Web 请求通过代理转发到后端服务器，由后端服务器进行数据处理和组织；</li><li>Nginx 为了提高对请求的响应效率，降低网络压力，采用了缓存机制，将历史应答数据缓存到本地。保障对缓存文件的快速访问</li></ol></blockquote><p>master 进程主要用来管理 worker 进程，具体包括以下主要功能：</p><blockquote><p>（1）接收来自外界的信号。</p><p>（2）处理配置文件读取。</p><p>（3）创建，绑定和关闭套接字</p><p>（4）启动，终止和维护配置的工作(worker)进程数</p><p>（5）当 woker 进程退出后（异常情况下），会自动重新启动新的 woker 进程。</p></blockquote><p><img src="/guo-notes/nginx/nginx-8.png" alt="image-20210909113832077"></p><blockquote><p>worker 进程的主要任务是完成具体的任务逻辑。其主要关注点是与客户端或后端真实服务器（此时 worker 作为中间代理）之间的数据可读/可写等 I/O 交互事件。 （1）接收客户端请求； （2）将请求一次送入各个功能模块进行过滤处理； （3）与后端服务器通信，接收后端服务器处理结果； （4）数据缓存 （5）响应客户端请求</p></blockquote><p><strong>案例：实现一个简单的php多进程版本的 nginx</strong></p><p>1、能够接收 http 请求</p><p>2、能够响应 http</p><p>3、能够接收多个客户端长连接请求</p><p>安装pcntl模块</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">http://cn2.php.net/distributions/php-7.1.14.tar.xz</span></span>
<span class="line"><span style="color:#A6ACCD;">tar xf php-7.1.14.tar.xz</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> php-7.1.14</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> ext/pcntl</span></span>
<span class="line"><span style="color:#A6ACCD;">phpize</span></span>
<span class="line"><span style="color:#A6ACCD;">./configure --with-php-config=/usr/bin/php-config</span></span>
<span class="line"><span style="color:#A6ACCD;">make</span></span>
<span class="line"><span style="color:#A6ACCD;">make install</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">extension=pcntl.so</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;"> /etc/php.ini</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>从上面的代码当中我们发现，如果是多进程的模式，也就意味着我们需要大量的进程，才能支持更多的连接请求，那么有没有一种技术可以在一个进程内处理所有并发IO呢？答案是有，这就是IO复用技术。</p><h1 id="_4、io-复用-eventloop" tabindex="-1">4、IO 复用/ EventLoop <a class="header-anchor" href="#_4、io-复用-eventloop" aria-hidden="true">#</a></h1><h2 id="_1、io-复用是什么？" tabindex="-1">1、IO 复用是什么？ <a class="header-anchor" href="#_1、io-复用是什么？" aria-hidden="true">#</a></h2><p>IO 多路复用是指内核一旦发现进程指定的一个或者多个 IO 条件准备读取，它就通知该进程，目前支持 I/O 多路复用的系统调用有 select，poll，epoll。</p><p><strong>==I/O多路复用就是通过一种机制，一个进程可以监视多个描述符（socket），一旦某个描述符就绪（一般是读就绪或者写就绪），能够通知程序进行相应的读写操作。==</strong></p><h2 id="_2、select-跟-poll" tabindex="-1">2、select 跟 poll <a class="header-anchor" href="#_2、select-跟-poll" aria-hidden="true">#</a></h2><blockquote><p>Select介绍：</p></blockquote><p>监视并等待多个文件描述符的属性变化（可读、可写或错误异常）。</p><p>select 函数监视的文件描述符分 3 类，分别是 writefds、readfds、和 exceptfds。调用后 select 会阻塞，直到有描述符就绪（有数据可读、可写、或者有错误异常），或者超时（ timeout 指定等待时间），函数才返回。<strong>当 select ()函数返回后，可以通过遍历 fdset，来找到就绪的描述符，并且描述符最大不能超过1024。</strong></p><blockquote><p>Poll 介绍：</p></blockquote><p>poll 的机制与 select 类似，<strong>与 select 在本质上没有多大差别，管理多个描述符也是进行轮询，根据描述符的状态进行处理，但是 poll 没有最大文件描述符数量的限制</strong>。poll 和 select 同样存在一个缺点就是，包含大量文件描述符的数组被整体复制于用户态和内核的地址空间之间，而不论这些文件描述符是否就绪，它的开销随着文件描述符数量的增加而线性增大。</p><blockquote><p>问题：</p></blockquote><p>select/poll 问题很明显，它们需要循环检测连接是否有事件。如果服务器有上百万个连接，在某一时间只有一个连接向服务器发送了数据，select/poll 需要做循环 100 万次，其中只有 1 次是命中的，剩下的 999999 次都是无效的，白白浪费了CPU资源。</p><blockquote><p>epoll:</p></blockquote><p>epoll 是在2.6内核中提出的，是之前的 select 和 poll 的增强版本。相对于 select 和 poll 来说， epoll 更加灵活，没有描述符限制，无需轮询。</p><p>epoll 使用一个文件描述符管理多个描述符，将用户关系的文件描述符的事件存放到内核的一个事件表中。</p><p>简单点来说就是当连接有 I/O 流事件产生的时候， epoll 就会去告诉进程哪个连接有 I/O 流事件产生，然后进程就去处理这个进程。 这里可以多加一个选择 worker 的原因，因为 worker 是基于 epoll 的异步非阻塞的服务器程序。自然，worker 能够轻松处理 10w+ 的并发连接，也就无可厚非了。</p><blockquote><p>实例：</p></blockquote><p>那么我们也可以基于 epoll，实现 IO复用异步非阻塞（ eventloop 或者叫 Reactor ），Event 是核心，Loop 是机制，Loop 可以用 select|poll|epoll 中的任意方式实现。</p><p>IO复用异步非阻塞程序使用经典的 Reactor 模型，Reactor 顾名思义就是反应堆的意思，它本身不处理任何数据收发。只是可以监视一个 socket（也可以是管道、eventfd、信号）句柄的事件变化。</p><blockquote><p>注：什么是句柄？句柄英文为 handler，可以形象的比喻为锅柄、勺柄。也就是资源的唯一标识符、资源的 ID。通过这个 ID 可以操作资源。</p><p>php 要使用 epoll 机制需要安装 libevent 依赖，或者是 swoole 当中的 event 机制，从使用角度上看 swoole 的 event 更加简单，这里编译下 swoole 扩展</p></blockquote><p>安装 event 依赖:</p><p>Swoole 安装方式跟普通扩展安装方式是一样的，下载解压、编译</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">wget https://pecl.php.net/get/swoole-4.4.4.tgz</span></span>
<span class="line"><span style="color:#A6ACCD;">tar -zxf swoole-4.4.4.tgz</span></span>
<span class="line"><span style="color:#A6ACCD;">phpize</span></span>
<span class="line"><span style="color:#A6ACCD;">./configure</span></span>
<span class="line"><span style="color:#A6ACCD;">make</span></span>
<span class="line"><span style="color:#A6ACCD;">make install</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h1 id="_5、进程相关" tabindex="-1">5、进程相关 <a class="header-anchor" href="#_5、进程相关" aria-hidden="true">#</a></h1><h2 id="_1、fork函数" tabindex="-1">1、fork函数 <a class="header-anchor" href="#_1、fork函数" aria-hidden="true">#</a></h2><p>fork 函数将创建调用的进程副本，并非根据完全不同的程序创建进程，而是复制正在运行的、调用fork函数的进程，但因为通过同一个进程、复制相同的内存空间，之后需要根据返回值加以区分：</p><blockquote><p>父进程空间：fork 函数会返回子进程 id</p><p>子进程空间：fork函数返回0</p><p>如果小于0，说明进程创建失败</p></blockquote><h2 id="_2、处理僵尸进程" tabindex="-1">2、处理僵尸进程 <a class="header-anchor" href="#_2、处理僵尸进程" aria-hidden="true">#</a></h2><p>对于多进程程序而言，父进程一般需要跟踪子进程的退出状态。因此，当子进程结束运行时，内核不会立即释放该进程的进程表表项，以满足父进程后续对该子进程退出信息的查询 (如果父进程还在运行)。</p><p>在子进程结束运行之后，父进程读取其退出状态之前，我们称该子进程处于俚尸态，另外一种使子进程进人僵尸状态是：父进程结束或者异常终止，而子进程继续运行。</p><p>由此可见，无论哪种情况，如果父进程没有正确地处理子进程的返冋信息，子进程都将停留在僵尸态，并占据若内核资源.这是绝对不能容许的，毕竞内核资源有限，所以我们需要做的就是在父进程中调用 wait 函数等待查询子进程的信息，回收子进程。</p><h2 id="_3、信号处理" tabindex="-1">3、信号处理 <a class="header-anchor" href="#_3、信号处理" aria-hidden="true">#</a></h2><p>workerman 提供了重启以及关闭的机制，我们只需要向 workerman 的主进程发送特定的信号，即可完成对 server 的重启，我们的web 服务如果想实现也可以，大概给个代码思路</p><blockquote><p>那什么是信号呢？</p></blockquote><p>信号的名字都以“SIG” 开头，比如我们最熟悉的 Ctrl+C 就是一个名字叫 “SIGINT” 的信号，意味着“终端中断”。</p><p>一部分信号：</p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">SIGHUP 		终止进程 		终端线路挂断</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGINT 		终止进程 		中断进程</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGIOT 		建立CORE文件 	执行I/O自陷</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGKILL 	终止进程 		杀死进程</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGPIPE 	终止进程 		向一个没有读进程的管道写数据</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGALARM 	终止进程 		计时器到时</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGTERM 	终止进程 		软件终止信号</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGSTOP 	停止进程 		非终端来的停止信号</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGTSTP 	停止进程 		终端来的停止信号</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGCONT 	忽略信号 		继续执行一个停止的进程</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGURG 		忽略信号 		I/O紧急信号</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGIO 		忽略信号 		描述符上可以进行I/O</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGPROF 	终止进程 		统计分布图用计时器到时</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGUSR1 	终止进程 		用户定义信号1</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGUSR2 	终止进程 		用户定义信号2</span></span>
<span class="line"><span style="color:#A6ACCD;">SIGVTALRM 	终止进程 		虚拟计时器到时</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h1 id="_6、nginx-操作" tabindex="-1">6、nginx 操作 <a class="header-anchor" href="#_6、nginx-操作" aria-hidden="true">#</a></h1><h2 id="_6-1-nginx-快速编译安装" tabindex="-1">6.1 nginx 快速编译安装 <a class="header-anchor" href="#_6-1-nginx-快速编译安装" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">yum -y install pcre pcre-devel zlib zlib-devel openssl openssl-devel</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">wget http://nginx.org/download/nginx-1.14.1.tar.gz</span></span>
<span class="line"><span style="color:#A6ACCD;">tar -zxvf nginx-1.14.1.tar.gz</span></span>
<span class="line"><span style="color:#A6ACCD;">./configure --prefix=/usr/local/nginx \</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_stub_status_module \</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_gzip_static_module\</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_realip_module\</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_sub_module \</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_ssl_module\</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_realip_module \</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_sub_module \</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_gunzip_module\</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_gzip_static_module\</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_auth_request_module\</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_random_index_module \</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_slice_module \</span></span>
<span class="line"><span style="color:#A6ACCD;">--with-http_stub_status_module</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">make &amp;&amp; make install</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看加载的模块及版本信息</p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">nginx -V</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_6-2-配置文件解释" tabindex="-1">6.2 配置文件解释 <a class="header-anchor" href="#_6-2-配置文件解释" aria-hidden="true">#</a></h2><p>main（全局设置），<strong>main 部分设置的指令将影响其它所有部分的设置；</strong></p><p>http（http 服务器设置），http 标准核心模块，http 服务的相应配置；</p><p>server（主机设置），接收请求的服务器需要将不同的请求按规则转发到不同的后端服务器上，在 nginx 中我们可以通过构建虚拟主机（ server ）的概念来将这些不同的服务配置隔离；</p><p>location （URL匹配特定位置后的设置），location 部分用于匹配网页位置（比如，根目录“/”,“/images”,等等）, server 是对应一个域名进行的配置，而 location 是在一个域名下对更精细的路径进行配置</p><p><img src="/guo-notes/nginx/nginx-9.png" alt="image-20210909141539597"></p><h3 id="详细解析" tabindex="-1"><strong>详细解析</strong> <a class="header-anchor" href="#详细解析" aria-hidden="true">#</a></h3><p>配置语法说明：</p><blockquote><p>1、配置文件由指令与指令块构成</p><p>2、每条指令以;分号结尾，指令与参数间以空格符号分隔</p><p>3、指令块以｛｝大括号将多条指令组织在一起</p><p>4、使用#符号添加注释，提高可读性</p><p>5、include语句允许组合多个配置文件以提升可维护性</p><p>6、使用$符号使用变量</p><p>7、部分指令的参数支持正则表达式</p></blockquote><p>Nginx的各种指令以及配置繁多，有些配置可以在如下的链接 <a href="https://tengine.taobao.org/nginx_docs/cn/docs/" target="_blank" rel="noreferrer">https://tengine.taobao.org/nginx_docs/cn/docs/</a> 或者在官方文档上查看。</p><h3 id="配置块：-server" tabindex="-1"><strong>配置块： server</strong> <a class="header-anchor" href="#配置块：-server" aria-hidden="true">#</a></h3><p>由于 IP 地址的数量有限，因此经常存在多个主机域名对应着同一个IP地址的情况，这时在 nginx.conf 中就可以按照 server_name （对应用户请求中的主机域名）并通过 server 块来定义虚拟主机，每个 server 块就是一个虚拟主机，它只处理与之相对应的主机域名请求。这样，一台服务器上的 Nginx 就能以不同的方式处理访问不同主机域名的 HTTP 请求了 语法：</p><blockquote><p>主机名称</p><p>语法： server_name name[...];</p><p>默认： server_name&quot;&quot;;</p><p>配置块： server</p></blockquote><p><strong>虚拟主机名可以使用确切的名字，通配符，或者是正则表达式来定义，在开始处理一个 HTTP 请求时， Nginx 会取出 header 头中的Host ，与每个 server 中的 server_name 进行匹配，以此决定到底由哪一个 server 块来处理这个请求。有可能一个 Host 与多个 server 块中的 server_name 都匹配，这时就会根据匹配优先级来选择实际处理的 server 块。</strong></p><p><strong>注意：优先级问题，所导致的配置不生效</strong></p><p>server_name 与 Host 的匹配优先级如下：</p><blockquote><p>1）首先选择所有字符串完全匹配的 server_name，如 <a href="http://nginx.2367.com" target="_blank" rel="noreferrer">nginx.2367.com</a> 。</p><p>2）其次选择通配符在前面的 server_name，如 *.2367.com。</p><p>3）再次选择通配符在后面的 server_name，如 nginx.2367.* 。</p><p>4）最后选择使用正则表达式才匹配的server_name，如 ~^.testweb.com$</p><p>如果都不匹配</p><p>1、优先选择 listen 配置项后有 default 或 default_server 的</p><p>2、找到匹配 listen 端口的第一个 server 块</p></blockquote><h3 id="配置块-location" tabindex="-1"><strong>配置块: location</strong> <a class="header-anchor" href="#配置块-location" aria-hidden="true">#</a></h3><blockquote><p>location</p><p css-module=".">语法： location[=|~|~*|^~|@]/uri/</p><p>配置块： server</p><p>location 会尝试根据用户请求中的URI来匹配上面的/uri表达式，如果可以匹配，就选择</p><p>location{}块中的配置来处理用户请求。当然，匹配方式是多样的，下面介绍location的匹配规则。</p></blockquote><h4 id="location表达式类型" tabindex="-1">location表达式类型 <a class="header-anchor" href="#location表达式类型" aria-hidden="true">#</a></h4><blockquote><p>~ 表示执行一个正则匹配，区分大小写；</p><p>~* 表示执行一个正则匹配，不区分大小写；</p><p>^~ 表示普通字符匹配。使用前缀匹配。如果匹配成功，则不再匹配其他location；</p><p>= 进行普通字符精确匹配。也就是完全匹配；</p><p>@ 它定义一个命名的 location，使用在内部定向时，例如 error_page, try_files</p></blockquote><h4 id="优先级" tabindex="-1">优先级 <a class="header-anchor" href="#优先级" aria-hidden="true">#</a></h4><blockquote><p>等号类型（=）的优先级最高。一旦匹配成功，则不再查找其他匹配项</p><p>前缀普通匹配（^~）优先级次之。不支持正则表达式。使用前缀匹配，如果有多个location匹配的话，则使用表达式最长的那个</p><p>正则表达式类型（~ 、~*）的优先级次之。一旦匹配成功，则不再查找其他匹配项</p><p>常规字符串匹配，如果有多个 location 匹配的话，则使用表达式最长的那个</p></blockquote><p>(location =) &gt; (location 完整路径) &gt; (location ^~ 路径) &gt; (location ~,~* 正则顺序) &gt; (location 部分起始路径)</p><p>文件路径的定义：</p><blockquote><p>以root方式设置资源路径</p><p>语法： root path;</p><p>配置块： http、server、location、if</p><p>以 alias 方式设置资源路径</p><p>语法： alias path;</p><p>配置块： location</p><p>alias 也是用来设置文件资源路径的，它与 root 的不同点主要在于如何解读紧跟 location 后面的 uri 参数</p></blockquote><p><strong>注意： location中使用root指令和alias指令的意义不同</strong></p><blockquote><p>(a) root，相当于追加在root目录后面 。比如访问的是 xxx/test=&gt;/www/test</p><p>(b) alias，相当于对 location 中的uri进行替换，比如访问的是 xxx/test，想要访问到 /www/test 就必须设置 alias /www/test</p></blockquote><h2 id="_6-3-nginx常用命令" tabindex="-1">6.3 nginx常用命令 <a class="header-anchor" href="#_6-3-nginx常用命令" aria-hidden="true">#</a></h2><p>1、查看Nginx的版本号：nginx -V</p><p>2、停止 nginx -s stop</p><p>3、退出 nginx -s quit</p><p>4、重启加载配置 nginx -s reload</p><p>5、配置文件启动 nginx -c &lt;/path/to/config&gt; 为 Nginx 指定一个配置文件，来代替缺省的</p><p>6、nginx -t 不运行，而仅仅测试配置文件。nginx 将检查配置文件的语法的正确性，并尝试打开配置文件中所引用到的文件。</p><h2 id="_6-4-nginx控制信号" tabindex="-1">6.4 nginx控制信号 <a class="header-anchor" href="#_6-4-nginx控制信号" aria-hidden="true">#</a></h2><p>再次回过头看看 nginx 的原理图，我们还可以通过信号去操作 nginx ，默认， nginx 将其主进程的 pid 写入到 /usr/local/nginx/nginx.pid 文件中</p><table><thead><tr><th>命令</th><th>解释</th></tr></thead><tbody><tr><td>TERM, INT</td><td>快速关闭</td></tr><tr><td>QUIT</td><td>从容关闭</td></tr><tr><td>HUP</td><td>重载配置 用新的配置开始新的工作进程 从容关闭旧的工作进程</td></tr><tr><td>USR1</td><td>重新打开日志文件</td></tr><tr><td>USR2</td><td>平滑升级可执行程序</td></tr><tr><td>WINCH</td><td>从容关闭工作进程</td></tr></tbody></table><p>nginx 停止命令，等所有请求结束后关闭服务</p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">Kill -QUIT nginx 主进程号</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>重新载入配置</p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">kill -HUP nginx 主进程号</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="_7、nginx-常用模块的了解与使用" tabindex="-1">7、nginx 常用模块的了解与使用 <a class="header-anchor" href="#_7、nginx-常用模块的了解与使用" aria-hidden="true">#</a></h1><p>nginx常用模块介绍及使用</p><p><img src="/guo-notes/nginx/nginx-10.png" alt="image-20210909150307644"></p><h2 id="limit-req-zone-—-限制请求数" tabindex="-1">limit_req_zone — 限制请求数 <a class="header-anchor" href="#limit-req-zone-—-限制请求数" aria-hidden="true">#</a></h2><blockquote><p>对客户端进行限制相关配置 - 预防CC攻击</p><p>一般是下面的需求：</p><p>秒杀、抢购并发限制</p><p>防止攻击</p><p>limit_req_zone 用来限制单位时间内的请求数，即速率限制，采用的漏桶算法</p></blockquote><p><strong>nginx 限制请求数 limit_req_zone</strong></p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">语法: limit_req_zone $variable zone=name:size rate=rate;</span></span>
<span class="line"><span style="color:#A6ACCD;">默认值: none</span></span>
<span class="line"><span style="color:#A6ACCD;">配置段: http</span></span>
<span class="line"><span style="color:#A6ACCD;">例子：limit_req_zone $binary_remote_addr zone=one:10m rate=10r/s;</span></span>
<span class="line"><span style="color:#A6ACCD;">Zone=one 		表示设置了名为“one”，大小为10兆字节</span></span>
<span class="line"><span style="color:#A6ACCD;">rate=10r/s 		意思是允许1秒钟不超过10个请求</span></span>
<span class="line"><span style="color:#A6ACCD;">使用$binary_remote_addr变量，可以将每条状态记录的大小减少到64个字节，这样1M的内存可以保存大约1万6千个64字节的记录。</span></span>
<span class="line"><span style="color:#A6ACCD;">如果限制域的存储空间耗尽了，对于后续所有请求，服务器都会返回 503 (Service Temporarily Unavailable)错误。</span></span>
<span class="line"><span style="color:#A6ACCD;">速度可以设置为每秒处理请求数和每分钟处理请求数，其值必须是整数，所以如果你需要指定每秒处理少于1个的请求，2秒处理一个请求，可以使用“30r/m”。</span></span>
<span class="line"><span style="color:#A6ACCD;">可选参数：</span></span>
<span class="line"><span style="color:#A6ACCD;">rate=10r/s 的意思是允许1秒钟不超过10个请求</span></span>
<span class="line"><span style="color:#A6ACCD;">burst=5 允许超过频率限制的请求数不多于5个，假设1、2、3、4秒请求为每秒9个，那么第5秒内请求15个是允许的，反之，如果第一秒内请求15个，会将5个请求放到第二秒，第二秒内超过10的请求直接503，类似多秒内平均速率限制。</span></span>
<span class="line"><span style="color:#A6ACCD;">nodelay 超过的请求不被延迟处理，设置后15个请求在1秒内处理。</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>关于漏桶算法</strong></p><p>漏桶（Leaky Bucket）算法思路很简单，水（请求）先进入到漏桶里，漏桶以一定的速度出水（接口有响应速率），当水流入速度过大会直接溢出（访问频率超过接口响应速率），然后就拒绝请求，可以看出漏桶算法能强行限制数据的传输速率。示意图如下：</p><p><img src="/guo-notes/nginx/nginx-11.png" alt="image-20210909151302070"></p><p>可见这里有两个变量，一个是桶的大小，支持流量突发增多时可以存多少的水（burst），另一个是水桶漏洞的大小（rate）</p><h2 id="http-access-module-—-ip访问控制模块" tabindex="-1">http_access_module — IP访问控制模块 <a class="header-anchor" href="#http-access-module-—-ip访问控制模块" aria-hidden="true">#</a></h2><p>用来对特定IP的进行访问控制</p><p>默认是允许所有 ip 访问，若部分允许需定义 deny all</p><p>allow</p><blockquote><p>语法：allow address | CIDR | unix: | all；</p><p>默认值：—</p><p>区块：http，server，location，limit_except</p><p>允许某个 ip 或者一个 ip 段访问</p></blockquote><p>deny</p><blockquote><p>语法：deny address | CIDR | unix: | all；</p><p>默认值： —</p><p>区块：http，server，location，limit_except</p></blockquote><p>allow、deny实例</p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">location / {</span></span>
<span class="line"><span style="color:#A6ACCD;">    deny 192.168.1.1;</span></span>
<span class="line"><span style="color:#A6ACCD;">    allow 192.168.1.0/24;</span></span>
<span class="line"><span style="color:#A6ACCD;">    allow 47.98.147.49;</span></span>
<span class="line"><span style="color:#A6ACCD;">    deny all;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>比如可以限制某些目录下的某些文件的访问，具体可以自己组合</p><p>禁止访问所有目录下的 sql|log|txt|jar|sh|py 后缀的文件，</p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">location ~.*\.(sql|log|txt|jar|war|sh|py|php) {</span></span>
<span class="line"><span style="color:#A6ACCD;">	deny all;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>案例：IP黑白名单设置</p><h2 id="map-geo" tabindex="-1">map geo <a class="header-anchor" href="#map-geo" aria-hidden="true">#</a></h2><h2 id="ngx-http-rewrite-module-—-重定向模块" tabindex="-1">ngx_http_rewrite_module — 重定向模块 <a class="header-anchor" href="#ngx-http-rewrite-module-—-重定向模块" aria-hidden="true">#</a></h2><p>rewrite 的主要功能是实现 URL 地址的重定向。Nginx 的 rewrite 功能需要 PCRE 软件的支持，即通过 perl 兼容正则表达式语句进行规则匹配的。默认参数编译 nginx 就会支持 rewrite 的模块，但是也必须要 PCRE 的支持。</p><blockquote><p>使用场景：</p><p>1、可以调整用户浏览的URL，看起来更规范，合乎开发及产品人员的需求。</p><p>2、为了让搜索引擎搜录网站内容及用户体验更好，企业会将动态URL地址伪装成静态地址提供服务。</p><p>3、网址换新域名后，让旧的访问跳转到新的域名上。例如，<a href="http://xn--360buy-vs7il2b500v1m0bmoxa.xn--comjd-ut2hk8p5v3l70c.com" target="_blank" rel="noreferrer">访问京东的360buy.com会跳转到jd.com</a></p><p>4、根据特殊变量、目录、客户端的信息进行URL调整等</p></blockquote><h2 id="if-指令" tabindex="-1">if 指令 <a class="header-anchor" href="#if-指令" aria-hidden="true">#</a></h2><blockquote><p …="">语法：if(condition)</p><p>区块：server，location</p><p>该指令用于检查一个条件是否符合，如果条件符合，则执行大括号内的语句。</p><p>if 指令不支持嵌套，不支持多个条件&amp;&amp;和||处理。</p><p>其中，condition中可以包含的判断标识如下</p><p>~ 为区分大小写匹配</p><p>~*为不区分大小写匹配</p><p>-f 和 !-f 用来判断是否存在文件</p><p>-d 和 !-d 用来判断是否存在目录</p><p>-e 和 !-e 用来判断是否存在文件或目录</p><p>-x 和 !-x 用来判断文件是否可执行</p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">if ($http_user_agent~*(mobile|nokia|iphone|ipad|android|samsung|htc|blackberry)) {</span></span>
<span class="line"><span style="color:#A6ACCD;">	rewrite	 ^(.*) 	http://peter.23673.com$1 permanent;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-37ebe389 data-v-a54a85bd><div class="edit-info" data-v-a54a85bd><!----><div class="last-updated" data-v-a54a85bd><p class="VPLastUpdated" data-v-a54a85bd data-v-f7d51a9c>Last updated: <time datatime="2023-04-13T04:41:05.000Z" data-v-f7d51a9c></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"classify_docker_docker compose服务编排.md\":\"655facb6\",\"classify_docker_dockerhub和私人仓库.md\":\"a40ffe45\",\"classify_docker_dockerfile.md\":\"de65de7f\",\"classify_docker_docker介绍.md\":\"141385ff\",\"classify_docker_docker命令.md\":\"d3690ad7\",\"classify_docker_docker安装和启动.md\":\"f37e85e5\",\"classify_docker_docker架构.md\":\"924be479\",\"classify_elasticsearch_elasticsearch介绍.md\":\"fa72602b\",\"classify_elasticsearch_elasticsearch.md\":\"b8ab7aec\",\"classify_kafka_kafka-php整合.md\":\"259f332f\",\"classify_kafka_kafka-微服务整合.md\":\"d99cab23\",\"classify_kafka_kafka.md\":\"84007841\",\"classify_kafka_kafka介绍.md\":\"ab6f0753\",\"classify_kafka_kafka和rabbitmq对比.md\":\"0f3974d9\",\"classify_kafka_kafka集群.md\":\"22743ce8\",\"classify_kafka_kafka零拷贝技术.md\":\"05d1ecc3\",\"classify_kubernetes_dashboard.md\":\"21c0a6f4\",\"classify_kubernetes_kubernetes介绍.md\":\"4d21badc\",\"classify_kubernetes_kubernetes实战入门.md\":\"45403e0b\",\"classify_kubernetes_kubernetes资源管理.md\":\"07f42438\",\"classify_kubernetes_kubernetes集群环境搭建.md\":\"e76062bc\",\"classify_kubernetes_pod控制器详解.md\":\"0755e433\",\"classify_kubernetes_pod详解.md\":\"2102bed0\",\"classify_kubernetes_service详解.md\":\"b9ada473\",\"classify_kubernetes_安全认证.md\":\"4fea5a86\",\"classify_kubernetes_数据存储.md\":\"ab15e9bc\",\"classify_nginx_nginx.md\":\"19c5b7c1\",\"classify_rabbitmq_exchange核心概念.md\":\"1ab4b083\",\"classify_rabbitmq_mq的概念.md\":\"555dd70a\",\"classify_rabbitmq_mq的种类和对比.md\":\"41b780cd\",\"classify_rabbitmq_rabbitmq命令行.md\":\"2a2a2eab\",\"classify_rabbitmq_rabbitmq工作模式.md\":\"f4e7eb68\",\"classify_rabbitmq_rabbitmq应用方案.md\":\"613e9e69\",\"classify_rabbitmq_rabbitmq的安装和启动.md\":\"ce1e2443\",\"classify_rabbitmq_rabbitmq简介.md\":\"d1274610\",\"classify_rabbitmq_rabbitmq管控台介绍.md\":\"2c5d24be\",\"classify_rabbitmq_rabbitmq集群搭建.md\":\"def4a4eb\",\"classify_rabbitmq_rabbitmq高级特性.md\":\"79e96997\",\"classify_rabbitmq_rabbitmq高级特性1.md\":\"61e0d502\",\"classify_redis_redis主从.md\":\"8418e1a5\",\"classify_redis_redis事务.md\":\"252b4505\",\"classify_redis_redis五大数据类型实现原理.md\":\"7a58f464\",\"classify_redis_redis介绍.md\":\"9a026f6c\",\"classify_redis_redis内存回收.md\":\"aad262c9\",\"classify_redis_redis内存淘汰策略.md\":\"0b1c3670\",\"classify_redis_redis内存碎片率.md\":\"be48d293\",\"classify_redis_redis分布式锁.md\":\"b9931f89\",\"classify_redis_redis哨兵.md\":\"607d9de5\",\"classify_redis_redis底层数据结构.md\":\"68b4c269\",\"classify_redis_redis慢查询和管道.md\":\"b1727e90\",\"classify_redis_redis持久化.md\":\"9c60aa93\",\"classify_redis_redis数据类型简介.md\":\"5f40496b\",\"classify_redis_redis缓存击穿、穿透、雪崩.md\":\"29bad1f6\",\"classify_redis_redis配置文件解析.md\":\"e1343fb2\",\"classify_redis_redis集群.md\":\"65743d8e\",\"classify_algorithm_concept_复杂度-时间复杂度和空间复杂度.md\":\"4231ba14\",\"classify_algorithm_concept_数据结构-堆.md\":\"75f9fe15\",\"classify_algorithm_concept_数据结构-栈与队列.md\":\"90975225\",\"classify_algorithm_concept_数据结构-树.md\":\"994db728\",\"classify_algorithm_concept_算法-排序算法.md\":\"ad63de45\",\"classify_algorithm_concept_算法-查找算法.md\":\"2697c31f\",\"classify_algorithm_concept_算法-深度优先搜索和广度优先搜索.md\":\"0c1c9409\",\"classify_algorithm_index.md\":\"de774b09\",\"classify_algorithm_title_leetcode-1.md\":\"7c5fc3fc\",\"classify_algorithm_title_leetcode-101.md\":\"967df4e5\",\"classify_algorithm_title_leetcode-104.md\":\"8a2faa09\",\"classify_algorithm_title_leetcode-110.md\":\"29403a59\",\"classify_algorithm_title_leetcode-141.md\":\"72ddd440\",\"classify_algorithm_title_leetcode-142.md\":\"09248920\",\"classify_algorithm_title_leetcode-144.md\":\"45427b40\",\"classify_algorithm_title_leetcode-145.md\":\"17e92f2d\",\"classify_algorithm_title_leetcode-160.md\":\"60cbe702\",\"classify_algorithm_title_leetcode-206.md\":\"7912b842\",\"classify_algorithm_title_leetcode-21.md\":\"6b3b78ac\",\"classify_algorithm_title_leetcode-226.md\":\"5f59d059\",\"classify_algorithm_title_leetcode-232.md\":\"5179497a\",\"classify_algorithm_title_leetcode-234.md\":\"dd7acdc7\",\"classify_algorithm_title_leetcode-283.md\":\"84352214\",\"classify_algorithm_title_leetcode-394.md\":\"0e163add\",\"classify_algorithm_title_leetcode-448.md\":\"6603b838\",\"classify_algorithm_title_leetcode-70.md\":\"ab7cbcf3\",\"classify_algorithm_title_leetcode-83.md\":\"b598c1f0\",\"classify_algorithm_title_leetcode-876.md\":\"d4127d2d\",\"classify_algorithm_title_leetcode-88.md\":\"190904c6\",\"classify_algorithm_title_leetcode-912.md\":\"4e55969c\",\"classify_algorithm_title_leetcode-94.md\":\"b66212d9\",\"classify_algorithm_title_leetcode-模板.md\":\"dd7abcd1\",\"classify_algorithm_title_剑指offer-22.md\":\"071899f2\",\"classify_algorithm_其他-设计.md\":\"1b7a410b\",\"classify_algorithm_基础-排序.md\":\"a8fd5bca\",\"classify_algorithm_基础数据结构-哈希表.md\":\"55c2efe9\",\"classify_algorithm_基础数据结构-字符串.md\":\"b4c57240\",\"classify_algorithm_基础数据结构-数组.md\":\"74014a9b\",\"classify_algorithm_基础数据结构-栈.md\":\"792f534a\",\"classify_algorithm_基础数据结构-树.md\":\"6194934f\",\"classify_algorithm_基础数据结构-链表.md\":\"6d312aa4\",\"classify_algorithm_基础数据结构-队列.md\":\"ca716a8f\",\"classify_algorithm_技巧-双指针.md\":\"ae6d45a7\",\"classify_algorithm_数学-斐波那契数列.md\":\"e8a9d2a3\",\"classify_algorithm_数学-相遇问题.md\":\"faf92821\",\"classify_algorithm_算法-动态规划.md\":\"551a4557\",\"classify_algorithm_算法-广度优先搜索.md\":\"2ca4c1a1\",\"classify_algorithm_算法-排序.md\":\"221cef6f\",\"classify_algorithm_算法-深度优先搜索.md\":\"5a6a1283\",\"classify_algorithm_算法-迭代.md\":\"78c0def3\",\"classify_algorithm_算法-递归.md\":\"d796f79a\",\"classify_mysql_mvcc多版本并发控制.md\":\"a3215a75\",\"classify_mysql_mysql三大日志.md\":\"0e324ea0\",\"classify_mysql_mysql主从复制.md\":\"d80c3229\",\"classify_mysql_mysql事务.md\":\"892bab2f\",\"classify_mysql_mysql介绍.md\":\"aa74d972\",\"classify_mysql_mysql分区.md\":\"9f990b35\",\"classify_mysql_mysql分库分表.md\":\"ea70aaa9\",\"classify_mysql_mysql索引.md\":\"19e60ba6\",\"classify_mysql_mysql语法.md\":\"2166e60e\",\"classify_mysql_mysql读写分离.md\":\"1cd5af3f\",\"classify_mysql_mysql负载均衡和高可用.md\":\"ba820133\",\"classify_mysql_mysql锁.md\":\"e9dcca56\",\"classify_mysql_sql语句优化.md\":\"7e4218cb\",\"classify_mysql_sql语句执行流程.md\":\"a48bacf6\",\"classify_mysql_存储引擎.md\":\"54fabccf\",\"classify_mysql_性能分析.md\":\"2aa5ada9\",\"classify_mysql_物理文件.md\":\"43e326f2\",\"classify_mysql_管理常用工具.md\":\"e3c067f2\",\"classify_sundry_concept_存储单位与速率单位.md\":\"d9168b29\",\"classify_sundry_concept_性能指标.md\":\"c0b289bb\",\"classify_sundry_tools_git_github 连接失败.md\":\"657f2cb0\",\"classify_sundry_tools_vscode_vscode 启动 debug.md\":\"ee0e5ba9\",\"classify_框架学习_laravel_artisan控制台命令.md\":\"b6ba645b\",\"classify_框架学习_laravel_生命周期相关核心概念.md\":\"8cba0160\",\"classify_解决方案_redis主从存在的问题和解决方案.md\":\"56b656f7\",\"classify_解决方案_数据库与缓存一致性解决方案.md\":\"cb8257fa\",\"classify_计算机基础_计算机网络_io模型.md\":\"8759accd\",\"classify_计算机基础_计算机网络_index.md\":\"098ea9ee\",\"classify_设计模式.md\":\"4f9a1cf6\",\"classify_面试常问_web安全.md\":\"068eca72\",\"classify_面试常问_一次网络请求的完整过程.md\":\"aff879ca\",\"index.md\":\"f2652fb8\",\"preface_install.md\":\"4a199460\",\"preface_preface.md\":\"4282cc4a\"}")</script>
    <script type="module" async src="/guo-notes/assets/app.a231f820.js"></script>
    
  </body>
</html>