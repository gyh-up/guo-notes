import{_ as s,c as n,o as a,a as l}from"./app.a231f820.js";const p="/guo-notes/kubenetes/image-20200413174713773.png",e="/guo-notes/kubenetes/image-20200413214031331.png",o="/guo-notes/kubenetes/image-20200413215133559.png",r="/guo-notes/kubenetes/image-20200514194111567.png",c="/guo-notes/kubenetes/image-20200515002806726.png",E=JSON.parse('{"title":"\u6570\u636E\u5B58\u50A8","description":"","frontmatter":{"typora-root-url":"..\\\\..\\\\public","typora-copy-images-to":"..\\\\..\\\\public\\\\kubenetes"},"headers":[{"level":2,"title":"\u4E00\u3001\u57FA\u672C\u5B58\u50A8","slug":"\u4E00\u3001\u57FA\u672C\u5B58\u50A8","link":"#\u4E00\u3001\u57FA\u672C\u5B58\u50A8","children":[]},{"level":2,"title":"1\u3001EmptyDir","slug":"_1\u3001emptydir","link":"#_1\u3001emptydir","children":[]},{"level":2,"title":"2\u3001HostPath","slug":"_2\u3001hostpath","link":"#_2\u3001hostpath","children":[]},{"level":2,"title":"3\u3001NFS","slug":"_3\u3001nfs","link":"#_3\u3001nfs","children":[]},{"level":2,"title":"\u4E8C\u3001\u9AD8\u7EA7\u5B58\u50A8","slug":"\u4E8C\u3001\u9AD8\u7EA7\u5B58\u50A8","link":"#\u4E8C\u3001\u9AD8\u7EA7\u5B58\u50A8","children":[]},{"level":2,"title":"1\u3001PV","slug":"_1\u3001pv","link":"#_1\u3001pv","children":[]},{"level":2,"title":"2\u3001PVC","slug":"_2\u3001pvc","link":"#_2\u3001pvc","children":[]},{"level":2,"title":"3\u3001\u751F\u547D\u5468\u671F","slug":"_3\u3001\u751F\u547D\u5468\u671F","link":"#_3\u3001\u751F\u547D\u5468\u671F","children":[]},{"level":2,"title":"4\u3001StorageClass","slug":"_4\u3001storageclass","link":"#_4\u3001storageclass","children":[]},{"level":2,"title":"\u4E09\u3001\u914D\u7F6E\u5B58\u50A8","slug":"\u4E09\u3001\u914D\u7F6E\u5B58\u50A8","link":"#\u4E09\u3001\u914D\u7F6E\u5B58\u50A8","children":[]},{"level":2,"title":"1\u3001ConfigMap","slug":"_1\u3001configmap","link":"#_1\u3001configmap","children":[]},{"level":2,"title":"2\u3001Secret","slug":"_2\u3001secret","link":"#_2\u3001secret","children":[]}],"relativePath":"classify/Kubernetes/\u6570\u636E\u5B58\u50A8.md","lastUpdated":1680256036000}'),t={name:"classify/Kubernetes/\u6570\u636E\u5B58\u50A8.md"},y=l('<h1 id="\u6570\u636E\u5B58\u50A8" tabindex="-1">\u6570\u636E\u5B58\u50A8 <a class="header-anchor" href="#\u6570\u636E\u5B58\u50A8" aria-hidden="true">#</a></h1><p>\u5728\u524D\u9762\u5DF2\u7ECF\u63D0\u5230\uFF0C\u5BB9\u5668\u7684\u751F\u547D\u5468\u671F\u53EF\u80FD\u5F88\u77ED\uFF0C\u4F1A\u88AB\u9891\u7E41\u5730\u521B\u5EFA\u548C\u9500\u6BC1\u3002\u90A3\u4E48\u5BB9\u5668\u5728\u9500\u6BC1\u65F6\uFF0C\u4FDD\u5B58\u5728\u5BB9\u5668\u4E2D\u7684\u6570\u636E\u4E5F\u4F1A\u88AB\u6E05\u9664\u3002\u8FD9\u79CD\u7ED3\u679C\u5BF9\u7528\u6237\u6765\u8BF4\uFF0C\u5728\u67D0\u4E9B\u60C5\u51B5\u4E0B\u662F\u4E0D\u4E50\u610F\u770B\u5230\u7684\u3002\u4E3A\u4E86\u6301\u4E45\u5316\u4FDD\u5B58\u5BB9\u5668\u7684\u6570\u636E\uFF0Ckubernetes\u5F15\u5165\u4E86Volume\u7684\u6982\u5FF5\u3002</p><p>Volume\u662FPod\u4E2D\u80FD\u591F\u88AB\u591A\u4E2A\u5BB9\u5668\u8BBF\u95EE\u7684\u5171\u4EAB\u76EE\u5F55\uFF0C\u5B83\u88AB\u5B9A\u4E49\u5728Pod\u4E0A\uFF0C\u7136\u540E\u88AB\u4E00\u4E2APod\u91CC\u7684\u591A\u4E2A\u5BB9\u5668\u6302\u8F7D\u5230\u5177\u4F53\u7684\u6587\u4EF6\u76EE\u5F55\u4E0B\uFF0Ckubernetes\u901A\u8FC7Volume\u5B9E\u73B0\u540C\u4E00\u4E2APod\u4E2D\u4E0D\u540C\u5BB9\u5668\u4E4B\u95F4\u7684\u6570\u636E\u5171\u4EAB\u4EE5\u53CA\u6570\u636E\u7684\u6301\u4E45\u5316\u5B58\u50A8\u3002Volume\u7684\u751F\u547D\u5BB9\u5668\u4E0D\u4E0EPod\u4E2D\u5355\u4E2A\u5BB9\u5668\u7684\u751F\u547D\u5468\u671F\u76F8\u5173\uFF0C\u5F53\u5BB9\u5668\u7EC8\u6B62\u6216\u8005\u91CD\u542F\u65F6\uFF0CVolume\u4E2D\u7684\u6570\u636E\u4E5F\u4E0D\u4F1A\u4E22\u5931\u3002</p><p>kubernetes\u7684Volume\u652F\u6301\u591A\u79CD\u7C7B\u578B\uFF0C\u6BD4\u8F83\u5E38\u89C1\u7684\u6709\u4E0B\u9762\u51E0\u4E2A\uFF1A</p><ul><li>\u7B80\u5355\u5B58\u50A8\uFF1AEmptyDir\u3001HostPath\u3001NFS</li><li>\u9AD8\u7EA7\u5B58\u50A8\uFF1APV\u3001PVC</li><li>\u914D\u7F6E\u5B58\u50A8\uFF1AConfigMap\u3001Secret</li></ul><h2 id="\u4E00\u3001\u57FA\u672C\u5B58\u50A8" tabindex="-1">\u4E00\u3001\u57FA\u672C\u5B58\u50A8 <a class="header-anchor" href="#\u4E00\u3001\u57FA\u672C\u5B58\u50A8" aria-hidden="true">#</a></h2><h2 id="_1\u3001emptydir" tabindex="-1">1\u3001EmptyDir <a class="header-anchor" href="#_1\u3001emptydir" aria-hidden="true">#</a></h2><p>EmptyDir\u662F\u6700\u57FA\u7840\u7684Volume\u7C7B\u578B\uFF0C\u4E00\u4E2AEmptyDir\u5C31\u662FHost\u4E0A\u7684\u4E00\u4E2A\u7A7A\u76EE\u5F55\u3002</p><p>EmptyDir\u662F\u5728Pod\u88AB\u5206\u914D\u5230Node\u65F6\u521B\u5EFA\u7684\uFF0C\u5B83\u7684\u521D\u59CB\u5185\u5BB9\u4E3A\u7A7A\uFF0C\u5E76\u4E14\u65E0\u987B\u6307\u5B9A\u5BBF\u4E3B\u673A\u4E0A\u5BF9\u5E94\u7684\u76EE\u5F55\u6587\u4EF6\uFF0C\u56E0\u4E3Akubernetes\u4F1A\u81EA\u52A8\u5206\u914D\u4E00\u4E2A\u76EE\u5F55\uFF0C\u5F53Pod\u9500\u6BC1\u65F6\uFF0C EmptyDir\u4E2D\u7684\u6570\u636E\u4E5F\u4F1A\u88AB\u6C38\u4E45\u5220\u9664\u3002 EmptyDir\u7528\u9014\u5982\u4E0B\uFF1A</p><ul><li>\u4E34\u65F6\u7A7A\u95F4\uFF0C\u4F8B\u5982\u7528\u4E8E\u67D0\u4E9B\u5E94\u7528\u7A0B\u5E8F\u8FD0\u884C\u65F6\u6240\u9700\u7684\u4E34\u65F6\u76EE\u5F55\uFF0C\u4E14\u65E0\u987B\u6C38\u4E45\u4FDD\u7559</li><li>\u4E00\u4E2A\u5BB9\u5668\u9700\u8981\u4ECE\u53E6\u4E00\u4E2A\u5BB9\u5668\u4E2D\u83B7\u53D6\u6570\u636E\u7684\u76EE\u5F55\uFF08\u591A\u5BB9\u5668\u5171\u4EAB\u76EE\u5F55\uFF09</li></ul><p>\u63A5\u4E0B\u6765\uFF0C\u901A\u8FC7\u4E00\u4E2A\u5BB9\u5668\u4E4B\u95F4\u6587\u4EF6\u5171\u4EAB\u7684\u6848\u4F8B\u6765\u4F7F\u7528\u4E00\u4E0BEmptyDir\u3002</p><p>\u5728\u4E00\u4E2APod\u4E2D\u51C6\u5907\u4E24\u4E2A\u5BB9\u5668nginx\u548Cbusybox\uFF0C\u7136\u540E\u58F0\u660E\u4E00\u4E2AVolume\u5206\u522B\u6302\u5728\u5230\u4E24\u4E2A\u5BB9\u5668\u7684\u76EE\u5F55\u4E2D\uFF0C\u7136\u540Enginx\u5BB9\u5668\u8D1F\u8D23\u5411Volume\u4E2D\u5199\u65E5\u5FD7\uFF0Cbusybox\u4E2D\u901A\u8FC7\u547D\u4EE4\u5C06\u65E5\u5FD7\u5185\u5BB9\u8BFB\u5230\u63A7\u5236\u53F0\u3002</p><p><img src="'+p+`" alt="img"></p><p>\u521B\u5EFA\u4E00\u4E2Avolume-emptydir.yaml</p><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Pod</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume-emptydir</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">containers</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx:1.17.1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">ports</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">containerPort</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumeMounts</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># \u5C06logs-volume\u6302\u5728\u5230nginx\u5BB9\u5668\u4E2D\uFF0C\u5BF9\u5E94\u7684\u76EE\u5F55\u4E3A /var/log/nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs-volume</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mountPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/log/nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">busybox</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">busybox:1.30</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">command</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/bin/sh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-c</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tail -f /logs/access.log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u521D\u59CB\u547D\u4EE4\uFF0C\u52A8\u6001\u8BFB\u53D6\u6307\u5B9A\u6587\u4EF6\u4E2D\u5185\u5BB9</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumeMounts</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># \u5C06logs-volume \u6302\u5728\u5230busybox\u5BB9\u5668\u4E2D\uFF0C\u5BF9\u5E94\u7684\u76EE\u5F55\u4E3A /logs</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs-volume</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mountPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/logs</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u58F0\u660Evolume\uFF0C name\u4E3Alogs-volume\uFF0C\u7C7B\u578B\u4E3AemptyDir</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs-volume</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">emptyDir</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFAPod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl create -f volume-emptydir.yaml</span></span>
<span class="line"><span style="color:#A6ACCD;">pod/volume-emptydir created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bpod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl get pods volume-emptydir -n dev -o wide</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME                  READY   STATUS    RESTARTS   AGE      IP       NODE   ...... </span></span>
<span class="line"><span style="color:#A6ACCD;">volume-emptydir       2/2     Running   0          97s   10.42.2.9   node1  ......</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u901A\u8FC7podIp\u8BBF\u95EEnginx</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># curl 10.42.2.9</span></span>
<span class="line"><span style="color:#A6ACCD;">......</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u901A\u8FC7kubectl logs\u547D\u4EE4\u67E5\u770B\u6307\u5B9A\u5BB9\u5668\u7684\u6807\u51C6\u8F93\u51FA</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl logs -f volume-emptydir -n dev -c busybox</span></span>
<span class="line"><span style="color:#A6ACCD;">10.42.1.0 - - </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">27/Jun/2021:15:08:54 +0000</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">GET / HTTP/1.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> 200 612 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">curl/7.29.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="_2\u3001hostpath" tabindex="-1">2\u3001HostPath <a class="header-anchor" href="#_2\u3001hostpath" aria-hidden="true">#</a></h2><p>\u4E0A\u8282\u8BFE\u63D0\u5230\uFF0CEmptyDir\u4E2D\u6570\u636E\u4E0D\u4F1A\u88AB\u6301\u4E45\u5316\uFF0C\u5B83\u4F1A\u968F\u7740Pod\u7684\u7ED3\u675F\u800C\u9500\u6BC1\uFF0C\u5982\u679C\u60F3\u7B80\u5355\u7684\u5C06\u6570\u636E\u6301\u4E45\u5316\u5230\u4E3B\u673A\u4E2D\uFF0C\u53EF\u4EE5\u9009\u62E9HostPath\u3002</p><p>HostPath\u5C31\u662F\u5C06Node\u4E3B\u673A\u4E2D\u4E00\u4E2A\u5B9E\u9645\u76EE\u5F55\u6302\u5728\u5230Pod\u4E2D\uFF0C\u4EE5\u4F9B\u5BB9\u5668\u4F7F\u7528\uFF0C\u8FD9\u6837\u7684\u8BBE\u8BA1\u5C31\u53EF\u4EE5\u4FDD\u8BC1Pod\u9500\u6BC1\u4E86\uFF0C\u4F46\u662F\u6570\u636E\u4F9D\u636E\u53EF\u4EE5\u5B58\u5728\u4E8ENode\u4E3B\u673A\u4E0A\u3002</p><p><img src="`+e+`" alt="img"></p><p>\u521B\u5EFA\u4E00\u4E2Avolume-hostpath.yaml\uFF1A</p><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Pod</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume-hostpath</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">containers</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx:1.17.1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">ports</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">containerPort</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumeMounts</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs-volume</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mountPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/log/nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">busybox</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">busybox:1.30</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">command</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/bin/sh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-c</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tail -f /logs/access.log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumeMounts</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs-volume</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mountPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/logs</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs-volume</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">hostPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/root/logs</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DirectoryOrCreate</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># \u76EE\u5F55\u5B58\u5728\u5C31\u4F7F\u7528\uFF0C\u4E0D\u5B58\u5728\u5C31\u5148\u521B\u5EFA\u540E\u4F7F\u7528</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">\u5173\u4E8Etype\u7684\u503C\u7684\u4E00\u70B9\u8BF4\u660E\uFF1A</span></span>
<span class="line"><span style="color:#A6ACCD;">    DirectoryOrCreate \u76EE\u5F55\u5B58\u5728\u5C31\u4F7F\u7528\uFF0C\u4E0D\u5B58\u5728\u5C31\u5148\u521B\u5EFA\u540E\u4F7F\u7528</span></span>
<span class="line"><span style="color:#A6ACCD;">    Directory   \u76EE\u5F55\u5FC5\u987B\u5B58\u5728</span></span>
<span class="line"><span style="color:#A6ACCD;">    FileOrCreate  \u6587\u4EF6\u5B58\u5728\u5C31\u4F7F\u7528\uFF0C\u4E0D\u5B58\u5728\u5C31\u5148\u521B\u5EFA\u540E\u4F7F\u7528</span></span>
<span class="line"><span style="color:#A6ACCD;">    File \u6587\u4EF6\u5FC5\u987B\u5B58\u5728 </span></span>
<span class="line"><span style="color:#A6ACCD;">    Socket  unix\u5957\u63A5\u5B57\u5FC5\u987B\u5B58\u5728</span></span>
<span class="line"><span style="color:#A6ACCD;">    CharDevice  \u5B57\u7B26\u8BBE\u5907\u5FC5\u987B\u5B58\u5728</span></span>
<span class="line"><span style="color:#A6ACCD;">    BlockDevice \u5757\u8BBE\u5907\u5FC5\u987B\u5B58\u5728</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFAPod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl create -f volume-hostpath.yaml</span></span>
<span class="line"><span style="color:#A6ACCD;">pod/volume-hostpath created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770BPod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl get pods volume-hostpath -n dev -o wide</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME                  READY   STATUS    RESTARTS   AGE   IP             NODE   ......</span></span>
<span class="line"><span style="color:#A6ACCD;">pod-volume-hostpath   2/2     Running   0          16s   10.42.2.10     node1  ......</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u8BBF\u95EEnginx</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># curl 10.42.2.10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u63A5\u4E0B\u6765\u5C31\u53EF\u4EE5\u53BBhost\u7684/root/logs\u76EE\u5F55\u4E0B\u67E5\u770B\u5B58\u50A8\u7684\u6587\u4EF6\u4E86</span></span>
<span class="line"><span style="color:#676E95;">###  \u6CE8\u610F: \u4E0B\u9762\u7684\u64CD\u4F5C\u9700\u8981\u5230Pod\u6240\u5728\u7684\u8282\u70B9\u8FD0\u884C\uFF08\u6848\u4F8B\u4E2D\u662Fnode1\uFF09</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@node1 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># ls /root/logs/</span></span>
<span class="line"><span style="color:#A6ACCD;">access.log  error.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u540C\u6837\u7684\u9053\u7406\uFF0C\u5982\u679C\u5728\u6B64\u76EE\u5F55\u4E0B\u521B\u5EFA\u4E00\u4E2A\u6587\u4EF6\uFF0C\u5230\u5BB9\u5668\u4E2D\u4E5F\u662F\u53EF\u4EE5\u770B\u5230\u7684</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="_3\u3001nfs" tabindex="-1">3\u3001NFS <a class="header-anchor" href="#_3\u3001nfs" aria-hidden="true">#</a></h2><p>HostPath\u53EF\u4EE5\u89E3\u51B3\u6570\u636E\u6301\u4E45\u5316\u7684\u95EE\u9898\uFF0C\u4F46\u662F\u4E00\u65E6Node\u8282\u70B9\u6545\u969C\u4E86\uFF0CPod\u5982\u679C\u8F6C\u79FB\u5230\u4E86\u522B\u7684\u8282\u70B9\uFF0C\u53C8\u4F1A\u51FA\u73B0\u95EE\u9898\u4E86\uFF0C\u6B64\u65F6\u9700\u8981\u51C6\u5907\u5355\u72EC\u7684\u7F51\u7EDC\u5B58\u50A8\u7CFB\u7EDF\uFF0C\u6BD4\u8F83\u5E38\u7528\u7684\u7528NFS\u3001CIFS\u3002</p><p>NFS\u662F\u4E00\u4E2A\u7F51\u7EDC\u6587\u4EF6\u5B58\u50A8\u7CFB\u7EDF\uFF0C\u53EF\u4EE5\u642D\u5EFA\u4E00\u53F0NFS\u670D\u52A1\u5668\uFF0C\u7136\u540E\u5C06Pod\u4E2D\u7684\u5B58\u50A8\u76F4\u63A5\u8FDE\u63A5\u5230NFS\u7CFB\u7EDF\u4E0A\uFF0C\u8FD9\u6837\u7684\u8BDD\uFF0C\u65E0\u8BBAPod\u5728\u8282\u70B9\u4E0A\u600E\u4E48\u8F6C\u79FB\uFF0C\u53EA\u8981Node\u8DDFNFS\u7684\u5BF9\u63A5\u6CA1\u95EE\u9898\uFF0C\u6570\u636E\u5C31\u53EF\u4EE5\u6210\u529F\u8BBF\u95EE\u3002</p><p><img src="`+o+`" alt="img"></p><p>1\uFF09\u9996\u5148\u8981\u51C6\u5907nfs\u7684\u670D\u52A1\u5668\uFF0C\u8FD9\u91CC\u4E3A\u4E86\u7B80\u5355\uFF0C\u76F4\u63A5\u662Fmaster\u8282\u70B9\u505Anfs\u670D\u52A1\u5668</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u5728nfs\u4E0A\u5B89\u88C5nfs\u670D\u52A1</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@nfs </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># yum install nfs-utils -y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u51C6\u5907\u4E00\u4E2A\u5171\u4EAB\u76EE\u5F55</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@nfs </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># mkdir /root/data/nfs -pv</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5C06\u5171\u4EAB\u76EE\u5F55\u4EE5\u8BFB\u5199\u6743\u9650\u66B4\u9732\u7ED9192.168.5.0/24\u7F51\u6BB5\u4E2D\u7684\u6240\u6709\u4E3B\u673A</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@nfs </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># vim /etc/exports</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@nfs </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># more /etc/exports</span></span>
<span class="line"><span style="color:#A6ACCD;">/root/data/nfs     192.168.5.0/24</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">rw,no_root_squash</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u542F\u52A8nfs\u670D\u52A1</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@nfs </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># systemctl restart nfs</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>2\uFF09\u63A5\u4E0B\u6765\uFF0C\u8981\u5728\u7684\u6BCF\u4E2Anode\u8282\u70B9\u4E0A\u90FD\u5B89\u88C5\u4E0Bnfs\uFF0C\u8FD9\u6837\u7684\u76EE\u7684\u662F\u4E3A\u4E86node\u8282\u70B9\u53EF\u4EE5\u9A71\u52A8nfs\u8BBE\u5907</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u5728node\u4E0A\u5B89\u88C5nfs\u670D\u52A1\uFF0C\u6CE8\u610F\u4E0D\u9700\u8981\u542F\u52A8</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># yum install nfs-utils -y</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>3\uFF09\u63A5\u4E0B\u6765\uFF0C\u5C31\u53EF\u4EE5\u7F16\u5199pod\u7684\u914D\u7F6E\u6587\u4EF6\u4E86\uFF0C\u521B\u5EFAvolume-nfs.yaml</p><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Pod</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume-nfs</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">containers</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx:1.17.1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">ports</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">containerPort</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumeMounts</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs-volume</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mountPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/log/nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">busybox</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">busybox:1.30</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">command</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/bin/sh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-c</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tail -f /logs/access.log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumeMounts</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs-volume</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mountPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/logs</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs-volume</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">nfs</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168.5.6</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">#nfs\u670D\u52A1\u5668\u5730\u5740</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/root/data/nfs</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">#\u5171\u4EAB\u6587\u4EF6\u8DEF\u5F84</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>4\uFF09\u6700\u540E\uFF0C\u8FD0\u884C\u4E0Bpod\uFF0C\u89C2\u5BDF\u7ED3\u679C</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFApod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl create -f volume-nfs.yaml</span></span>
<span class="line"><span style="color:#A6ACCD;">pod/volume-nfs created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bpod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl get pods volume-nfs -n dev</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME                  READY   STATUS    RESTARTS   AGE</span></span>
<span class="line"><span style="color:#A6ACCD;">volume-nfs        2/2     Running   0          2m9s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bnfs\u670D\u52A1\u5668\u4E0A\u7684\u5171\u4EAB\u76EE\u5F55\uFF0C\u53D1\u73B0\u5DF2\u7ECF\u6709\u6587\u4EF6\u4E86</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># ls /root/data/</span></span>
<span class="line"><span style="color:#A6ACCD;">access.log  error.log</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="\u4E8C\u3001\u9AD8\u7EA7\u5B58\u50A8" tabindex="-1">\u4E8C\u3001\u9AD8\u7EA7\u5B58\u50A8 <a class="header-anchor" href="#\u4E8C\u3001\u9AD8\u7EA7\u5B58\u50A8" aria-hidden="true">#</a></h2><p>\u524D\u9762\u5DF2\u7ECF\u5B66\u4E60\u4E86\u4F7F\u7528NFS\u63D0\u4F9B\u5B58\u50A8\uFF0C\u6B64\u65F6\u5C31\u8981\u6C42\u7528\u6237\u4F1A\u642D\u5EFANFS\u7CFB\u7EDF\uFF0C\u5E76\u4E14\u4F1A\u5728yaml\u914D\u7F6Enfs\u3002\u7531\u4E8Ekubernetes\u652F\u6301\u7684\u5B58\u50A8\u7CFB\u7EDF\u6709\u5F88\u591A\uFF0C\u8981\u6C42\u5BA2\u6237\u5168\u90FD\u638C\u63E1\uFF0C\u663E\u7136\u4E0D\u73B0\u5B9E\u3002\u4E3A\u4E86\u80FD\u591F\u5C4F\u853D\u5E95\u5C42\u5B58\u50A8\u5B9E\u73B0\u7684\u7EC6\u8282\uFF0C\u65B9\u4FBF\u7528\u6237\u4F7F\u7528\uFF0C kubernetes\u5F15\u5165PV\u548CPVC\u4E24\u79CD\u8D44\u6E90\u5BF9\u8C61\u3002</p><p>PV\uFF08Persistent Volume\uFF09\u662F\u6301\u4E45\u5316\u5377\u7684\u610F\u601D\uFF0C\u662F\u5BF9\u5E95\u5C42\u7684\u5171\u4EAB\u5B58\u50A8\u7684\u4E00\u79CD\u62BD\u8C61\u3002\u4E00\u822C\u60C5\u51B5\u4E0BPV\u7531kubernetes\u7BA1\u7406\u5458\u8FDB\u884C\u521B\u5EFA\u548C\u914D\u7F6E\uFF0C\u5B83\u4E0E\u5E95\u5C42\u5177\u4F53\u7684\u5171\u4EAB\u5B58\u50A8\u6280\u672F\u6709\u5173\uFF0C\u5E76\u901A\u8FC7\u63D2\u4EF6\u5B8C\u6210\u4E0E\u5171\u4EAB\u5B58\u50A8\u7684\u5BF9\u63A5\u3002</p><p>PVC\uFF08Persistent Volume Claim\uFF09\u662F\u6301\u4E45\u5377\u58F0\u660E\u7684\u610F\u601D\uFF0C\u662F\u7528\u6237\u5BF9\u4E8E\u5B58\u50A8\u9700\u6C42\u7684\u4E00\u79CD\u58F0\u660E\u3002\u6362\u53E5\u8BDD\u8BF4\uFF0CPVC\u5176\u5B9E\u5C31\u662F\u7528\u6237\u5411kubernetes\u7CFB\u7EDF\u53D1\u51FA\u7684\u4E00\u79CD\u8D44\u6E90\u9700\u6C42\u7533\u8BF7\u3002</p><p><img src="`+r+`" alt="img"></p><p>\u4F7F\u7528\u4E86PV\u548CPVC\u4E4B\u540E\uFF0C\u5DE5\u4F5C\u53EF\u4EE5\u5F97\u5230\u8FDB\u4E00\u6B65\u7684\u7EC6\u5206\uFF1A</p><ul><li>\u5B58\u50A8\uFF1A\u5B58\u50A8\u5DE5\u7A0B\u5E08\u7EF4\u62A4</li><li>PV\uFF1A kubernetes\u7BA1\u7406\u5458\u7EF4\u62A4</li><li>PVC\uFF1Akubernetes\u7528\u6237\u7EF4\u62A4</li></ul><h2 id="_1\u3001pv" tabindex="-1">1\u3001PV <a class="header-anchor" href="#_1\u3001pv" aria-hidden="true">#</a></h2><p>PV\u662F\u5B58\u50A8\u8D44\u6E90\u7684\u62BD\u8C61\uFF0C\u4E0B\u9762\u662F\u8D44\u6E90\u6E05\u5355\u6587\u4EF6:</p><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PersistentVolume</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pv2</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">nfs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u5B58\u50A8\u7C7B\u578B\uFF0C\u4E0E\u5E95\u5C42\u771F\u6B63\u5B58\u50A8\u5BF9\u5E94</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">capacity</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># \u5B58\u50A8\u80FD\u529B\uFF0C\u76EE\u524D\u53EA\u652F\u6301\u5B58\u50A8\u7A7A\u95F4\u7684\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">storage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">2Gi</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">accessModes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># \u8BBF\u95EE\u6A21\u5F0F</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">storageClassName</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u5B58\u50A8\u7C7B\u522B</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">persistentVolumeReclaimPolicy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u56DE\u6536\u7B56\u7565</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>PV \u7684\u5173\u952E\u914D\u7F6E\u53C2\u6570\u8BF4\u660E\uFF1A</p><ul><li><p><strong>\u5B58\u50A8\u7C7B\u578B</strong></p><p>\u5E95\u5C42\u5B9E\u9645\u5B58\u50A8\u7684\u7C7B\u578B\uFF0Ckubernetes\u652F\u6301\u591A\u79CD\u5B58\u50A8\u7C7B\u578B\uFF0C\u6BCF\u79CD\u5B58\u50A8\u7C7B\u578B\u7684\u914D\u7F6E\u90FD\u6709\u6240\u5DEE\u5F02</p></li><li><p><strong>\u5B58\u50A8\u80FD\u529B\uFF08capacity\uFF09</strong></p></li></ul><p>\u76EE\u524D\u53EA\u652F\u6301\u5B58\u50A8\u7A7A\u95F4\u7684\u8BBE\u7F6E( storage=1Gi )\uFF0C\u4E0D\u8FC7\u672A\u6765\u53EF\u80FD\u4F1A\u52A0\u5165IOPS\u3001\u541E\u5410\u91CF\u7B49\u6307\u6807\u7684\u914D\u7F6E</p><ul><li><p><strong>\u8BBF\u95EE\u6A21\u5F0F\uFF08accessModes\uFF09</strong></p><p>\u7528\u4E8E\u63CF\u8FF0\u7528\u6237\u5E94\u7528\u5BF9\u5B58\u50A8\u8D44\u6E90\u7684\u8BBF\u95EE\u6743\u9650\uFF0C\u8BBF\u95EE\u6743\u9650\u5305\u62EC\u4E0B\u9762\u51E0\u79CD\u65B9\u5F0F\uFF1A</p><ul><li>ReadWriteOnce\uFF08RWO\uFF09\uFF1A\u8BFB\u5199\u6743\u9650\uFF0C\u4F46\u662F\u53EA\u80FD\u88AB\u5355\u4E2A\u8282\u70B9\u6302\u8F7D</li><li>ReadOnlyMany\uFF08ROX\uFF09\uFF1A \u53EA\u8BFB\u6743\u9650\uFF0C\u53EF\u4EE5\u88AB\u591A\u4E2A\u8282\u70B9\u6302\u8F7D</li><li>ReadWriteMany\uFF08RWX\uFF09\uFF1A\u8BFB\u5199\u6743\u9650\uFF0C\u53EF\u4EE5\u88AB\u591A\u4E2A\u8282\u70B9\u6302\u8F7D</li></ul><p><code>\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u5E95\u5C42\u4E0D\u540C\u7684\u5B58\u50A8\u7C7B\u578B\u53EF\u80FD\u652F\u6301\u7684\u8BBF\u95EE\u6A21\u5F0F\u4E0D\u540C</code></p></li><li><p><strong>\u56DE\u6536\u7B56\u7565\uFF08persistentVolumeReclaimPolicy\uFF09</strong></p><p>\u5F53PV\u4E0D\u518D\u88AB\u4F7F\u7528\u4E86\u4E4B\u540E\uFF0C\u5BF9\u5176\u7684\u5904\u7406\u65B9\u5F0F\u3002\u76EE\u524D\u652F\u6301\u4E09\u79CD\u7B56\u7565\uFF1A</p><ul><li>Retain \uFF08\u4FDD\u7559\uFF09 \u4FDD\u7559\u6570\u636E\uFF0C\u9700\u8981\u7BA1\u7406\u5458\u624B\u5DE5\u6E05\u7406\u6570\u636E</li><li>Recycle\uFF08\u56DE\u6536\uFF09 \u6E05\u9664 PV \u4E2D\u7684\u6570\u636E\uFF0C\u6548\u679C\u76F8\u5F53\u4E8E\u6267\u884C rm -rf /thevolume/*</li><li>Delete \uFF08\u5220\u9664\uFF09 \u4E0E PV \u76F8\u8FDE\u7684\u540E\u7AEF\u5B58\u50A8\u5B8C\u6210 volume \u7684\u5220\u9664\u64CD\u4F5C\uFF0C\u5F53\u7136\u8FD9\u5E38\u89C1\u4E8E\u4E91\u670D\u52A1\u5546\u7684\u5B58\u50A8\u670D\u52A1</li></ul><p><code>\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u5E95\u5C42\u4E0D\u540C\u7684\u5B58\u50A8\u7C7B\u578B\u53EF\u80FD\u652F\u6301\u7684\u56DE\u6536\u7B56\u7565\u4E0D\u540C</code></p></li><li><p><strong>\u5B58\u50A8\u7C7B\u522B</strong></p><p>PV\u53EF\u4EE5\u901A\u8FC7storageClassName\u53C2\u6570\u6307\u5B9A\u4E00\u4E2A\u5B58\u50A8\u7C7B\u522B</p><ul><li>\u5177\u6709\u7279\u5B9A\u7C7B\u522B\u7684PV\u53EA\u80FD\u4E0E\u8BF7\u6C42\u4E86\u8BE5\u7C7B\u522B\u7684PVC\u8FDB\u884C\u7ED1\u5B9A</li><li>\u672A\u8BBE\u5B9A\u7C7B\u522B\u7684PV\u5219\u53EA\u80FD\u4E0E\u4E0D\u8BF7\u6C42\u4EFB\u4F55\u7C7B\u522B\u7684PVC\u8FDB\u884C\u7ED1\u5B9A</li></ul></li><li><p><strong>\u72B6\u6001\uFF08status\uFF09</strong></p><p>\u4E00\u4E2A PV \u7684\u751F\u547D\u5468\u671F\u4E2D\uFF0C\u53EF\u80FD\u4F1A\u5904\u4E8E4\u4E2D\u4E0D\u540C\u7684\u9636\u6BB5\uFF1A</p><ul><li>Available\uFF08\u53EF\u7528\uFF09\uFF1A \u8868\u793A\u53EF\u7528\u72B6\u6001\uFF0C\u8FD8\u672A\u88AB\u4EFB\u4F55 PVC \u7ED1\u5B9A</li><li>Bound\uFF08\u5DF2\u7ED1\u5B9A\uFF09\uFF1A \u8868\u793A PV \u5DF2\u7ECF\u88AB PVC \u7ED1\u5B9A</li><li>Released\uFF08\u5DF2\u91CA\u653E\uFF09\uFF1A \u8868\u793A PVC \u88AB\u5220\u9664\uFF0C\u4F46\u662F\u8D44\u6E90\u8FD8\u672A\u88AB\u96C6\u7FA4\u91CD\u65B0\u58F0\u660E</li><li>Failed\uFF08\u5931\u8D25\uFF09\uFF1A \u8868\u793A\u8BE5 PV \u7684\u81EA\u52A8\u56DE\u6536\u5931\u8D25</li></ul></li></ul><p><strong>\u5B9E\u9A8C</strong></p><p>\u4F7F\u7528NFS\u4F5C\u4E3A\u5B58\u50A8\uFF0C\u6765\u6F14\u793APV\u7684\u4F7F\u7528\uFF0C\u521B\u5EFA3\u4E2APV\uFF0C\u5BF9\u5E94NFS\u4E2D\u76843\u4E2A\u66B4\u9732\u7684\u8DEF\u5F84\u3002</p><ol><li>\u51C6\u5907NFS\u73AF\u5883</li></ol><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFA\u76EE\u5F55</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@nfs </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># mkdir /root/data/{pv1,pv2,pv3} -pv</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u66B4\u9732\u670D\u52A1</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@nfs </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># more /etc/exports</span></span>
<span class="line"><span style="color:#A6ACCD;">/root/data/pv1     192.168.5.0/24</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">rw,no_root_squash</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">/root/data/pv2     192.168.5.0/24</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">rw,no_root_squash</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">/root/data/pv3     192.168.5.0/24</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">rw,no_root_squash</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u91CD\u542F\u670D\u52A1</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@nfs </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;">#  systemctl restart nfs</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="2"><li>\u521B\u5EFApv.yaml</li></ol><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PersistentVolume</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">pv1</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">capacity</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">storage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">1Gi</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">accessModes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ReadWriteMany</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">persistentVolumeReclaimPolicy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Retain</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">nfs</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/root/data/pv1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168.5.6</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PersistentVolume</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">pv2</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">capacity</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">storage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">2Gi</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">accessModes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ReadWriteMany</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">persistentVolumeReclaimPolicy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Retain</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">nfs</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/root/data/pv2</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168.5.6</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#FFCB6B;">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PersistentVolume</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">pv3</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">capacity</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">storage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">3Gi</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">accessModes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ReadWriteMany</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">persistentVolumeReclaimPolicy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Retain</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">nfs</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/root/data/pv3</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">192.168.5.6</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFA pv</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl create -f pv.yaml</span></span>
<span class="line"><span style="color:#A6ACCD;">persistentvolume/pv1 created</span></span>
<span class="line"><span style="color:#A6ACCD;">persistentvolume/pv2 created</span></span>
<span class="line"><span style="color:#A6ACCD;">persistentvolume/pv3 created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bpv</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl get pv -o wide</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME   CAPACITY   ACCESS MODES  RECLAIM POLICY  STATUS      AGE   VOLUMEMODE</span></span>
<span class="line"><span style="color:#A6ACCD;">pv1    1Gi        RWX            Retain        Available    10s   Filesystem</span></span>
<span class="line"><span style="color:#A6ACCD;">pv2    2Gi        RWX            Retain        Available    10s   Filesystem</span></span>
<span class="line"><span style="color:#A6ACCD;">pv3    3Gi        RWX            Retain        Available    9s    Filesystem</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_2\u3001pvc" tabindex="-1">2\u3001PVC <a class="header-anchor" href="#_2\u3001pvc" aria-hidden="true">#</a></h2><p>PVC\u662F\u8D44\u6E90\u7684\u7533\u8BF7\uFF0C\u7528\u6765\u58F0\u660E\u5BF9\u5B58\u50A8\u7A7A\u95F4\u3001\u8BBF\u95EE\u6A21\u5F0F\u3001\u5B58\u50A8\u7C7B\u522B\u9700\u6C42\u4FE1\u606F\u3002\u4E0B\u9762\u662F\u8D44\u6E90\u6E05\u5355\u6587\u4EF6:</p><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PersistentVolumeClaim</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pvc</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">accessModes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u8BBF\u95EE\u6A21\u5F0F</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">selector</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u91C7\u7528\u6807\u7B7E\u5BF9PV\u9009\u62E9</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">storageClassName</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u5B58\u50A8\u7C7B\u522B</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">resources</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u8BF7\u6C42\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">requests</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">storage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">5Gi</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>PVC \u7684\u5173\u952E\u914D\u7F6E\u53C2\u6570\u8BF4\u660E\uFF1A</p><ul><li><strong>\u8BBF\u95EE\u6A21\u5F0F\uFF08accessModes\uFF09</strong></li></ul><p>\u7528\u4E8E\u63CF\u8FF0\u7528\u6237\u5E94\u7528\u5BF9\u5B58\u50A8\u8D44\u6E90\u7684\u8BBF\u95EE\u6743\u9650</p><ul><li><p><strong>\u9009\u62E9\u6761\u4EF6\uFF08selector\uFF09</strong></p><p>\u901A\u8FC7Label Selector\u7684\u8BBE\u7F6E\uFF0C\u53EF\u4F7FPVC\u5BF9\u4E8E\u7CFB\u7EDF\u4E2D\u5DF1\u5B58\u5728\u7684PV\u8FDB\u884C\u7B5B\u9009</p></li><li><p><strong>\u5B58\u50A8\u7C7B\u522B\uFF08storageClassName\uFF09</strong></p><p>PVC\u5728\u5B9A\u4E49\u65F6\u53EF\u4EE5\u8BBE\u5B9A\u9700\u8981\u7684\u540E\u7AEF\u5B58\u50A8\u7684\u7C7B\u522B\uFF0C\u53EA\u6709\u8BBE\u7F6E\u4E86\u8BE5class\u7684pv\u624D\u80FD\u88AB\u7CFB\u7EDF\u9009\u51FA</p></li><li><p><strong>\u8D44\u6E90\u8BF7\u6C42\uFF08Resources \uFF09</strong></p><p>\u63CF\u8FF0\u5BF9\u5B58\u50A8\u8D44\u6E90\u7684\u8BF7\u6C42</p></li></ul><p><strong>\u5B9E\u9A8C</strong></p><ol><li>\u521B\u5EFApvc.yaml\uFF0C\u7533\u8BF7pv</li></ol><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PersistentVolumeClaim</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pvc1</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">accessModes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ReadWriteMany</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">resources</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">requests</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">storage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">1Gi</span></span>
<span class="line"><span style="color:#FFCB6B;">---</span></span>
<span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PersistentVolumeClaim</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pvc2</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">accessModes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ReadWriteMany</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">resources</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">requests</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">storage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">1Gi</span></span>
<span class="line"><span style="color:#FFCB6B;">---</span></span>
<span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PersistentVolumeClaim</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pvc3</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">accessModes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ReadWriteMany</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">resources</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">requests</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">storage</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">1Gi</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFApvc</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl create -f pvc.yaml</span></span>
<span class="line"><span style="color:#A6ACCD;">persistentvolumeclaim/pvc1 created</span></span>
<span class="line"><span style="color:#A6ACCD;">persistentvolumeclaim/pvc2 created</span></span>
<span class="line"><span style="color:#A6ACCD;">persistentvolumeclaim/pvc3 created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bpvc</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl get pvc  -n dev -o wide</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME   STATUS   VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS   AGE   VOLUMEMODE</span></span>
<span class="line"><span style="color:#A6ACCD;">pvc1   Bound    pv1      1Gi        RWX                           15s   Filesystem</span></span>
<span class="line"><span style="color:#A6ACCD;">pvc2   Bound    pv2      2Gi        RWX                           15s   Filesystem</span></span>
<span class="line"><span style="color:#A6ACCD;">pvc3   Bound    pv3      3Gi        RWX                           15s   Filesystem</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bpv</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl get pv -o wide</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME  CAPACITY ACCESS MODES  RECLAIM POLICY  STATUS    CLAIM       AGE     VOLUMEMODE</span></span>
<span class="line"><span style="color:#A6ACCD;">pv1    1Gi        RWx        Retain          Bound    dev/pvc1    3h37m    Filesystem</span></span>
<span class="line"><span style="color:#A6ACCD;">pv2    2Gi        RWX        Retain          Bound    dev/pvc2    3h37m    Filesystem</span></span>
<span class="line"><span style="color:#A6ACCD;">pv3    3Gi        RWX        Retain          Bound    dev/pvc3    3h37m    Filesystem   </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ol start="2"><li>\u521B\u5EFApods.yaml, \u4F7F\u7528pv</li></ol><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Pod</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pod1</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">containers</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">busybox</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">busybox:1.30</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">command</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/bin/sh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-c</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">while true;do echo pod1 &gt;&gt; /root/out.txt; sleep 10; done;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumeMounts</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mountPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/root/</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">persistentVolumeClaim</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">claimName</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pvc1</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">readOnly</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#FFCB6B;">---</span></span>
<span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Pod</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pod2</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">containers</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">busybox</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">busybox:1.30</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">command</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/bin/sh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-c</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">while true;do echo pod2 &gt;&gt; /root/out.txt; sleep 10; done;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumeMounts</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mountPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/root/</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">persistentVolumeClaim</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">claimName</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pvc2</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">readOnly</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFApod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl create -f pods.yaml</span></span>
<span class="line"><span style="color:#A6ACCD;">pod/pod1 created</span></span>
<span class="line"><span style="color:#A6ACCD;">pod/pod2 created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bpod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl get pods -n dev -o wide</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME   READY   STATUS    RESTARTS   AGE   IP            NODE   </span></span>
<span class="line"><span style="color:#A6ACCD;">pod1   1/1     Running   0          14s   10.244.1.69   node1   </span></span>
<span class="line"><span style="color:#A6ACCD;">pod2   1/1     Running   0          14s   10.244.1.70   node1  </span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bpvc</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl get pvc -n dev -o wide</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME   STATUS   VOLUME   CAPACITY   ACCESS MODES      AGE   VOLUMEMODE</span></span>
<span class="line"><span style="color:#A6ACCD;">pvc1   Bound    pv1      1Gi        RWX               94m   Filesystem</span></span>
<span class="line"><span style="color:#A6ACCD;">pvc2   Bound    pv2      2Gi        RWX               94m   Filesystem</span></span>
<span class="line"><span style="color:#A6ACCD;">pvc3   Bound    pv3      3Gi        RWX               94m   Filesystem</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bpv</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl get pv -n dev -o wide</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME   CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM       AGE     VOLUMEMODE</span></span>
<span class="line"><span style="color:#A6ACCD;">pv1    1Gi        RWX            Retain           Bound    dev/pvc1    5h11m   Filesystem</span></span>
<span class="line"><span style="color:#A6ACCD;">pv2    2Gi        RWX            Retain           Bound    dev/pvc2    5h11m   Filesystem</span></span>
<span class="line"><span style="color:#A6ACCD;">pv3    3Gi        RWX            Retain           Bound    dev/pvc3    5h11m   Filesystem</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bnfs\u4E2D\u7684\u6587\u4EF6\u5B58\u50A8</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@nfs </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># more /root/data/pv1/out.txt</span></span>
<span class="line"><span style="color:#A6ACCD;">node1</span></span>
<span class="line"><span style="color:#A6ACCD;">node1</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@nfs </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># more /root/data/pv2/out.txt</span></span>
<span class="line"><span style="color:#A6ACCD;">node2</span></span>
<span class="line"><span style="color:#A6ACCD;">node2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="_3\u3001\u751F\u547D\u5468\u671F" tabindex="-1">3\u3001\u751F\u547D\u5468\u671F <a class="header-anchor" href="#_3\u3001\u751F\u547D\u5468\u671F" aria-hidden="true">#</a></h2><p>PVC\u548CPV\u662F\u4E00\u4E00\u5BF9\u5E94\u7684\uFF0CPV\u548CPVC\u4E4B\u95F4\u7684\u76F8\u4E92\u4F5C\u7528\u9075\u5FAA\u4EE5\u4E0B\u751F\u547D\u5468\u671F\uFF1A</p><ul><li><p><strong>\u8D44\u6E90\u4F9B\u5E94</strong>\uFF1A\u7BA1\u7406\u5458\u624B\u52A8\u521B\u5EFA\u5E95\u5C42\u5B58\u50A8\u548CPV</p></li><li><p><strong>\u8D44\u6E90\u7ED1\u5B9A</strong>\uFF1A\u7528\u6237\u521B\u5EFAPVC\uFF0Ckubernetes\u8D1F\u8D23\u6839\u636EPVC\u7684\u58F0\u660E\u53BB\u5BFB\u627EPV\uFF0C\u5E76\u7ED1\u5B9A</p><p>\u5728\u7528\u6237\u5B9A\u4E49\u597DPVC\u4E4B\u540E\uFF0C\u7CFB\u7EDF\u5C06\u6839\u636EPVC\u5BF9\u5B58\u50A8\u8D44\u6E90\u7684\u8BF7\u6C42\u5728\u5DF2\u5B58\u5728\u7684PV\u4E2D\u9009\u62E9\u4E00\u4E2A\u6EE1\u8DB3\u6761\u4EF6\u7684</p><ul><li>\u4E00\u65E6\u627E\u5230\uFF0C\u5C31\u5C06\u8BE5PV\u4E0E\u7528\u6237\u5B9A\u4E49\u7684PVC\u8FDB\u884C\u7ED1\u5B9A\uFF0C\u7528\u6237\u7684\u5E94\u7528\u5C31\u53EF\u4EE5\u4F7F\u7528\u8FD9\u4E2APVC\u4E86</li><li>\u5982\u679C\u627E\u4E0D\u5230\uFF0CPVC\u5219\u4F1A\u65E0\u9650\u671F\u5904\u4E8EPending\u72B6\u6001\uFF0C\u76F4\u5230\u7B49\u5230\u7CFB\u7EDF\u7BA1\u7406\u5458\u521B\u5EFA\u4E86\u4E00\u4E2A\u7B26\u5408\u5176\u8981\u6C42\u7684PV</li></ul><p>PV\u4E00\u65E6\u7ED1\u5B9A\u5230\u67D0\u4E2APVC\u4E0A\uFF0C\u5C31\u4F1A\u88AB\u8FD9\u4E2APVC\u72EC\u5360\uFF0C\u4E0D\u80FD\u518D\u4E0E\u5176\u4ED6PVC\u8FDB\u884C\u7ED1\u5B9A\u4E86</p></li><li><p><strong>\u8D44\u6E90\u4F7F\u7528</strong>\uFF1A\u7528\u6237\u53EF\u5728pod\u4E2D\u50CFvolume\u4E00\u6837\u4F7F\u7528pvc</p><p>Pod\u4F7F\u7528Volume\u7684\u5B9A\u4E49\uFF0C\u5C06PVC\u6302\u8F7D\u5230\u5BB9\u5668\u5185\u7684\u67D0\u4E2A\u8DEF\u5F84\u8FDB\u884C\u4F7F\u7528\u3002</p></li><li><p><strong>\u8D44\u6E90\u91CA\u653E</strong>\uFF1A\u7528\u6237\u5220\u9664pvc\u6765\u91CA\u653Epv</p><p>\u5F53\u5B58\u50A8\u8D44\u6E90\u4F7F\u7528\u5B8C\u6BD5\u540E\uFF0C\u7528\u6237\u53EF\u4EE5\u5220\u9664PVC\uFF0C\u4E0E\u8BE5PVC\u7ED1\u5B9A\u7684PV\u5C06\u4F1A\u88AB\u6807\u8BB0\u4E3A\u201C\u5DF2\u91CA\u653E\u201D\uFF0C\u4F46\u8FD8\u4E0D\u80FD\u7ACB\u523B\u4E0E\u5176\u4ED6PVC\u8FDB\u884C\u7ED1\u5B9A\u3002\u901A\u8FC7\u4E4B\u524DPVC\u5199\u5165\u7684\u6570\u636E\u53EF\u80FD\u8FD8\u88AB\u7559\u5728\u5B58\u50A8\u8BBE\u5907\u4E0A\uFF0C\u53EA\u6709\u5728\u6E05\u9664\u4E4B\u540E\u8BE5PV\u624D\u80FD\u518D\u6B21\u4F7F\u7528\u3002</p></li><li><p><strong>\u8D44\u6E90\u56DE\u6536</strong>\uFF1Akubernetes\u6839\u636Epv\u8BBE\u7F6E\u7684\u56DE\u6536\u7B56\u7565\u8FDB\u884C\u8D44\u6E90\u7684\u56DE\u6536</p><p>\u5BF9\u4E8EPV\uFF0C\u7BA1\u7406\u5458\u53EF\u4EE5\u8BBE\u5B9A\u56DE\u6536\u7B56\u7565\uFF0C\u7528\u4E8E\u8BBE\u7F6E\u4E0E\u4E4B\u7ED1\u5B9A\u7684PVC\u91CA\u653E\u8D44\u6E90\u4E4B\u540E\u5982\u4F55\u5904\u7406\u9057\u7559\u6570\u636E\u7684\u95EE\u9898\u3002\u53EA\u6709PV\u7684\u5B58\u50A8\u7A7A\u95F4\u5B8C\u6210\u56DE\u6536\uFF0C\u624D\u80FD\u4F9B\u65B0\u7684PVC\u7ED1\u5B9A\u548C\u4F7F\u7528</p></li></ul><p><img src="`+c+`" alt="img"></p><h2 id="_4\u3001storageclass" tabindex="-1">4\u3001StorageClass <a class="header-anchor" href="#_4\u3001storageclass" aria-hidden="true">#</a></h2><h2 id="\u4E09\u3001\u914D\u7F6E\u5B58\u50A8" tabindex="-1">\u4E09\u3001\u914D\u7F6E\u5B58\u50A8 <a class="header-anchor" href="#\u4E09\u3001\u914D\u7F6E\u5B58\u50A8" aria-hidden="true">#</a></h2><h2 id="_1\u3001configmap" tabindex="-1">1\u3001ConfigMap <a class="header-anchor" href="#_1\u3001configmap" aria-hidden="true">#</a></h2><p>ConfigMap\u662F\u4E00\u79CD\u6BD4\u8F83\u7279\u6B8A\u7684\u5B58\u50A8\u5377\uFF0C\u5B83\u7684\u4E3B\u8981\u4F5C\u7528\u662F\u7528\u6765\u5B58\u50A8\u914D\u7F6E\u4FE1\u606F\u7684\u3002</p><p>\u521B\u5EFAconfigmap.yaml\uFF0C\u5185\u5BB9\u5982\u4E0B\uFF1A</p><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ConfigMap</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">configmap</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">info</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#C3E88D;">    username:admin</span></span>
<span class="line"><span style="color:#C3E88D;">    password:123456</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u63A5\u4E0B\u6765\uFF0C\u4F7F\u7528\u6B64\u914D\u7F6E\u6587\u4EF6\u521B\u5EFAconfigmap</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFAconfigmap</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl create -f configmap.yaml</span></span>
<span class="line"><span style="color:#A6ACCD;">configmap/configmap created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bconfigmap\u8BE6\u60C5</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl describe cm configmap -n dev</span></span>
<span class="line"><span style="color:#A6ACCD;">Name:         configmap</span></span>
<span class="line"><span style="color:#A6ACCD;">Namespace:    dev</span></span>
<span class="line"><span style="color:#A6ACCD;">Labels:       </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">none</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">Annotations:  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">none</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Data</span></span>
<span class="line"><span style="color:#A6ACCD;">====</span></span>
<span class="line"><span style="color:#A6ACCD;">info:</span></span>
<span class="line"><span style="color:#A6ACCD;">----</span></span>
<span class="line"><span style="color:#A6ACCD;">username:admin</span></span>
<span class="line"><span style="color:#A6ACCD;">password:123456</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Events:  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">none</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>\u63A5\u4E0B\u6765\u521B\u5EFA\u4E00\u4E2Apod-configmap.yaml\uFF0C\u5C06\u4E0A\u9762\u521B\u5EFA\u7684configmap\u6302\u8F7D\u8FDB\u53BB</p><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Pod</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pod-configmap</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">containers</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx:1.17.1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumeMounts</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u5C06configmap\u6302\u8F7D\u5230\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mountPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/configmap/config</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u5F15\u7528configmap</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">configMap</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">configmap</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFApod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl create -f pod-configmap.yaml</span></span>
<span class="line"><span style="color:#A6ACCD;">pod/pod-configmap created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bpod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl get pod pod-configmap -n dev</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME            READY   STATUS    RESTARTS   AGE</span></span>
<span class="line"><span style="color:#A6ACCD;">pod-configmap   1/1     Running   0          6s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u8FDB\u5165\u5BB9\u5668</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl exec -it pod-configmap -n dev /bin/sh</span></span>
<span class="line"><span style="color:#676E95;"># cd /configmap/config/</span></span>
<span class="line"><span style="color:#676E95;"># ls</span></span>
<span class="line"><span style="color:#A6ACCD;">info</span></span>
<span class="line"><span style="color:#676E95;"># more info</span></span>
<span class="line"><span style="color:#A6ACCD;">username:admin</span></span>
<span class="line"><span style="color:#A6ACCD;">password:123456</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u53EF\u4EE5\u770B\u5230\u6620\u5C04\u5DF2\u7ECF\u6210\u529F\uFF0C\u6BCF\u4E2Aconfigmap\u90FD\u6620\u5C04\u6210\u4E86\u4E00\u4E2A\u76EE\u5F55</span></span>
<span class="line"><span style="color:#676E95;"># key---&gt;\u6587\u4EF6     value----&gt;\u6587\u4EF6\u4E2D\u7684\u5185\u5BB9</span></span>
<span class="line"><span style="color:#676E95;"># \u6B64\u65F6\u5982\u679C\u66F4\u65B0configmap\u7684\u5185\u5BB9, \u5BB9\u5668\u4E2D\u7684\u503C\u4E5F\u4F1A\u52A8\u6001\u66F4\u65B0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="_2\u3001secret" tabindex="-1">2\u3001Secret <a class="header-anchor" href="#_2\u3001secret" aria-hidden="true">#</a></h2><p>\u5728kubernetes\u4E2D\uFF0C\u8FD8\u5B58\u5728\u4E00\u79CD\u548CConfigMap\u975E\u5E38\u7C7B\u4F3C\u7684\u5BF9\u8C61\uFF0C\u79F0\u4E3ASecret\u5BF9\u8C61\u3002\u5B83\u4E3B\u8981\u7528\u4E8E\u5B58\u50A8\u654F\u611F\u4FE1\u606F\uFF0C\u4F8B\u5982\u5BC6\u7801\u3001\u79D8\u94A5\u3001\u8BC1\u4E66\u7B49\u7B49\u3002</p><ol><li>\u9996\u5148\u4F7F\u7528base64\u5BF9\u6570\u636E\u8FDB\u884C\u7F16\u7801</li></ol><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># echo -n &#39;admin&#39; | base64 #\u51C6\u5907username</span></span>
<span class="line"><span style="color:#A6ACCD;">YWRtaW4=</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># echo -n &#39;123456&#39; | base64 #\u51C6\u5907password</span></span>
<span class="line"><span style="color:#A6ACCD;">MTIzNDU2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>\u63A5\u4E0B\u6765\u7F16\u5199secret.yaml\uFF0C\u5E76\u521B\u5EFASecret</li></ol><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Secret</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">secret</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Opaque</span></span>
<span class="line"><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">username</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">YWRtaW4=</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">password</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MTIzNDU2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFAsecret</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl create -f secret.yaml</span></span>
<span class="line"><span style="color:#A6ACCD;">secret/secret created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bsecret\u8BE6\u60C5</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl describe secret secret -n dev</span></span>
<span class="line"><span style="color:#A6ACCD;">Name:         secret</span></span>
<span class="line"><span style="color:#A6ACCD;">Namespace:    dev</span></span>
<span class="line"><span style="color:#A6ACCD;">Labels:       </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">none</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">Annotations:  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">none</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">Type:  Opaque</span></span>
<span class="line"><span style="color:#A6ACCD;">Data</span></span>
<span class="line"><span style="color:#A6ACCD;">====</span></span>
<span class="line"><span style="color:#A6ACCD;">password:  6 bytes</span></span>
<span class="line"><span style="color:#A6ACCD;">username:  5 bytes</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ol start="3"><li>\u521B\u5EFApod-secret.yaml\uFF0C\u5C06\u4E0A\u9762\u521B\u5EFA\u7684secret\u6302\u8F7D\u8FDB\u53BB\uFF1A</li></ol><div class="language-yaml line-numbers-mode"><button class="copy"></button><span class="lang">yaml</span><pre><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Pod</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pod-secret</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">containers</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx:1.17.1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumeMounts</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;"># \u5C06secret\u6302\u8F7D\u5230\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mountPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/secret/config</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">secret</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">secretName</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">secret</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFApod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl create -f pod-secret.yaml</span></span>
<span class="line"><span style="color:#A6ACCD;">pod/pod-secret created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bpod</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl get pod pod-secret -n dev</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME            READY   STATUS    RESTARTS   AGE</span></span>
<span class="line"><span style="color:#A6ACCD;">pod-secret      1/1     Running   0          2m28s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u8FDB\u5165\u5BB9\u5668\uFF0C\u67E5\u770Bsecret\u4FE1\u606F\uFF0C\u53D1\u73B0\u5DF2\u7ECF\u81EA\u52A8\u89E3\u7801\u4E86</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@k8s-master01 </span><span style="color:#89DDFF;">~]</span><span style="color:#676E95;"># kubectl exec -it pod-secret /bin/sh -n dev</span></span>
<span class="line"><span style="color:#A6ACCD;">/ </span><span style="color:#676E95;"># ls /secret/config/</span></span>
<span class="line"><span style="color:#A6ACCD;">password  username</span></span>
<span class="line"><span style="color:#A6ACCD;">/ </span><span style="color:#676E95;"># more /secret/config/username</span></span>
<span class="line"><span style="color:#A6ACCD;">admin</span></span>
<span class="line"><span style="color:#A6ACCD;">/ </span><span style="color:#676E95;"># more /secret/config/password</span></span>
<span class="line"><span style="color:#A6ACCD;">123456</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>\u81F3\u6B64\uFF0C\u5DF2\u7ECF\u5B9E\u73B0\u4E86\u5229\u7528secret\u5B9E\u73B0\u4E86\u4FE1\u606F\u7684\u7F16\u7801\u3002</p>`,97),i=[y];function D(C,F,A,b,m,u){return a(),n("div",null,i)}const v=s(t,[["render",D]]);export{E as __pageData,v as default};
