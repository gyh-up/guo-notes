import{_ as s,c as n,o as a,a as e}from"./app.a231f820.js";const l="/guo-notes/docker/image-20230323161813681.png",p="/guo-notes/docker/image-20230323161946896.png",C=JSON.parse('{"title":"Docker \u5B89\u88C5\u548C\u542F\u52A8","description":"","frontmatter":{"typora-root-url":"..\\\\..\\\\public"},"headers":[{"level":2,"title":"\u4E00\u3001\u5B89\u88C5","slug":"\u4E00\u3001\u5B89\u88C5","link":"#\u4E00\u3001\u5B89\u88C5","children":[]},{"level":2,"title":"\u4E8C\u3001\u542F\u52A8","slug":"\u4E8C\u3001\u542F\u52A8","link":"#\u4E8C\u3001\u542F\u52A8","children":[]},{"level":2,"title":"\u4E09\u3001\u914D\u7F6E\u955C\u50CF\u52A0\u901F\u5668","slug":"\u4E09\u3001\u914D\u7F6E\u955C\u50CF\u52A0\u901F\u5668","link":"#\u4E09\u3001\u914D\u7F6E\u955C\u50CF\u52A0\u901F\u5668","children":[]}],"relativePath":"classify/Docker/Docker\u5B89\u88C5\u548C\u542F\u52A8.md","lastUpdated":1679569957000}'),r={name:"classify/Docker/Docker\u5B89\u88C5\u548C\u542F\u52A8.md"},o=e(`<h1 id="docker-\u5B89\u88C5\u548C\u542F\u52A8" tabindex="-1">Docker \u5B89\u88C5\u548C\u542F\u52A8 <a class="header-anchor" href="#docker-\u5B89\u88C5\u548C\u542F\u52A8" aria-hidden="true">#</a></h1><h2 id="\u4E00\u3001\u5B89\u88C5" tabindex="-1">\u4E00\u3001\u5B89\u88C5 <a class="header-anchor" href="#\u4E00\u3001\u5B89\u88C5" aria-hidden="true">#</a></h2><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u66F4\u65B0update\u5230\u6700\u65B0\u7684\u7248\u672C </span></span>
<span class="line"><span style="color:#A6ACCD;">yum update </span></span>
<span class="line"><span style="color:#676E95;"># \u5378\u8F7D\u8001\u7248\u672Cdocker\uFF0C\u5982\u679C\u66FE\u7ECF\u5B89\u88C5\u8FC7\uFF0C\u6216\u8005\u5B89\u88C5\u5931\u8D25\u60F3\u91CD\u65B0\u5B89\u88C5</span></span>
<span class="line"><span style="color:#A6ACCD;">yum remove docker docker-common docker-selinux docker-engine </span></span>
<span class="line"><span style="color:#676E95;"># \u5B89\u88C5\u9700\u8981\u7684\u8F6F\u4EF6\u5305</span></span>
<span class="line"><span style="color:#A6ACCD;">yum install -y yum-utils device-mapper-persistent-data lvm2 </span></span>
<span class="line"><span style="color:#676E95;"># \u8BBE\u7F6Eyum\u6E90</span></span>
<span class="line"><span style="color:#A6ACCD;">yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770B\u53EF\u5B89\u88C5\u7684docker\u7248\u672C </span></span>
<span class="line"><span style="color:#A6ACCD;">yum list docker-ce --showduplicates</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">sort -r</span></span>
<span class="line"><span style="color:#676E95;"># \u5B89\u88C5docker\uFF0C\u9009\u62E9\u7248\u672C\u6216\u8005\u9ED8\u8BA4\u5B89\u88C5</span></span>
<span class="line"><span style="color:#A6ACCD;">yum install -y docker-ce-18.03.1.ce</span></span>
<span class="line"><span style="color:#A6ACCD;">yum install -y docker-ce</span></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770Bdocker\u7248\u672C\uFF0C\u9A8C\u8BC1\u662F\u5426\u9A8C\u8BC1\u6210\u529F</span></span>
<span class="line"><span style="color:#A6ACCD;">docker -v</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>\u5F53\u53D1\u751F\u5982\u4E0B\u62A5\u9519</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">Error: Failed to download metadata </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> repo </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">appstream</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">: Cannot prepare internal mirrorlist: No URLs </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> mirrorlist</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u4F9D\u6B21\u6267\u884C</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> /etc/yum.repos.d/</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s/mirrorlist/#mirrorlist/g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> /etc/yum.repos.d/CentOS-</span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> /etc/yum.repos.d/CentOS-</span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#A6ACCD;">yum makecache</span></span>
<span class="line"><span style="color:#A6ACCD;">yum update -y</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="\u4E8C\u3001\u542F\u52A8" tabindex="-1">\u4E8C\u3001\u542F\u52A8 <a class="header-anchor" href="#\u4E8C\u3001\u542F\u52A8" aria-hidden="true">#</a></h2><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u542F\u52A8docker </span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl start docker </span></span>
<span class="line"><span style="color:#676E95;"># \u52A0\u5165\u5F00\u673A\u81EA\u542F </span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> docker </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="\u4E09\u3001\u914D\u7F6E\u955C\u50CF\u52A0\u901F\u5668" tabindex="-1">\u4E09\u3001\u914D\u7F6E\u955C\u50CF\u52A0\u901F\u5668 <a class="header-anchor" href="#\u4E09\u3001\u914D\u7F6E\u955C\u50CF\u52A0\u901F\u5668" aria-hidden="true">#</a></h2><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0Cdocker \u5C06\u4ECE <a href="https://hub.docker.com/" target="_blank" rel="noreferrer">Docker Hub</a> \u4E0B\u8F7D docker \u955C\u50CF\uFF0C\u8FD9\u6837\u4E0B\u8F7D\u901F\u5EA6\u6BD4\u8F83\u6162\uFF0C\u4E00\u822C\u90FD\u4F1A\u914D\u7F6E\u955C\u50CF\u52A0\u901F\u5668\u3002</p><ul><li>USTC\uFF1A\u4E2D\u79D1\u5927\u955C\u50CF\u52A0\u901F\u5668 (<a href="https://docker.mirrors.ustc.edu.cn" target="_blank" rel="noreferrer">https://docker.mirrors.ustc.edu.cn</a>)</li><li>\u963F\u91CC\u4E91\u3001\u7F51\u6613\u4E91\u3001\u817E\u8BAF\u4E91</li></ul><p>\u767B\u5F55\u963F\u91CC\u4E91\uFF08\u5176\u4ED6\u4E91\u670D\u52A1\u540C\u7406\uFF09</p><p><img src="`+l+'" alt="image-20230323161813681"></p><p>\u8FDB\u5165\u63A7\u5236\u53F0\uFF0C\u83B7\u53D6\u5230\u52A0\u901F\u5668\u5730\u5740\uFF0C\u6BCF\u4E2A\u8D26\u53F7\u90FD\u4E0D\u4E00\u6837\u3002</p><p><img src="'+p+`" alt="image-20230323161946896"></p><p>\u914D\u7F6E\u955C\u50CF\u52A0\u901F\u5668</p><div class="language-shell line-numbers-mode"><button class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo mkdir -p /etc/docker</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo tee /etc/docker/daemon.json </span><span style="color:#89DDFF;">&lt;&lt;</span><span style="color:#C3E88D;">-&#39;</span><span style="color:#89DDFF;">EOF</span><span style="color:#C3E88D;">&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#C3E88D;">  &quot;registry-mirrors&quot;: [&quot;\u79C1\u4EBA\u7684\u955C\u50CF\u52A0\u901F\u5668\u5730\u5740&quot;]</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"><span style="color:#89DDFF;">EOF</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl daemon-reload</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl restart docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,18),c=[o];function t(i,d,u,m,b,y){return a(),n("div",null,c)}const A=s(r,[["render",t]]);export{C as __pageData,A as default};
